{"id":"H751","dependencies":[{"name":"/Users/oluwa/dev/webrt_state_machine/package.json","includedInParent":true,"mtime":1540304235496},{"name":"./logger.js","loc":{"line":4,"column":25},"parent":"/Users/oluwa/dev/webrt_state_machine/src/core_modules/state_machine.js","resolved":"/Users/oluwa/dev/webrt_state_machine/src/core_modules/logger.js"},{"name":"./ui.js","loc":{"line":5,"column":15},"parent":"/Users/oluwa/dev/webrt_state_machine/src/core_modules/state_machine.js","resolved":"/Users/oluwa/dev/webrt_state_machine/src/core_modules/ui.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=require(\"./logger.js\"),s=t(require(\"./ui.js\"));function t(e){return e&&e.__esModule?e:{default:e}}function i(e,s){if(!(e instanceof s))throw new TypeError(\"Cannot call a class as a function\")}function r(e,s){for(var t=0;t<s.length;t++){var i=s[t];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,s,t){return s&&r(e.prototype,s),t&&r(e,t),e}var o=function(){function t(r){i(this,t);var n=r.buffer_size,o=r.gui_mode,a=r.debug_mode;this.log=(0,e.makeLogger)(\"SM\"),this.buffer_size=n,this.sensor_buffer_size=n,this.buffer=Array(n).fill(u),this.sensors={},this.transitioners={},this.transitioner_groups={},this.STATE={},this.gui_mode=o,this.debug_mode=a||!1,o&&(this.sensors_gui_buffer={},this.ui_mapping=null,this.ui=new s.default(null))}return n(t,[{key:\"initialize\",value:function(e){this.STATE=e}},{key:\"update_buffer_with_data_object\",value:function(e){this.buffer.push(e),this.buffer.shift()}},{key:\"set_sensor_order\",value:function(){this.sensor_order=util.dict_2_vec(this.sensors).sort(function(e,s){return e[1].level>s[1].level?1:-1}).map(function(e){return e[0]})}},{key:\"add_sensor\",value:function(e){var s,t,i;s=e.id,t=e.f,i=e.level,this.sensors[s]={},this.sensors[s].function=t,this.sensors[s].buffer=Array(this.sensor_buffer_size).fill(NaN),this.sensors[s].level=i||0,this.debug_mode&&this.log(\"Added sensor: \"+s),this.set_sensor_order()}},{key:\"init_gui\",value:function(e){for(var s in this.ui_mapping=e,this.ui_mapping){var t=this.ui_mapping[s];this.ui.add_graph(s,t)}this.ui.init()}},{key:\"run_sensor\",value:function(e){var s=(0,this.sensors[e].function)(this);return s&&(this.sensors[e].buffer.push(s),this.sensors[e].buffer.shift()),s}},{key:\"get_sensor_last_N\",value:function(e,s){return this.sensors[e].buffer.slice(this.buffer_size-s)}},{key:\"get_sensor_last_1\",value:function(e){return get_sensor_last_N(e,1)}},{key:\"add_transitioner\",value:function(e,s){if(!s.detector||!s.applicator)throw\"Transitioner object does not contain both detector and applicator!\";this.transitioners[e]=s,s.group&&(this.transitioner_groups[s.group]=!0),this.debug_mode&&this.log(\"Added transitioner: \"+e)}},{key:\"run_transitioner\",value:function(e){var s=this.transitioners[e],t=s.group,i=this.transitioner_groups[t];if(0!=i){var r=s.detector,n=s.applicator;r(this)?(this.debug_mode&&this.log(\":match: => \"+e),n(this),i&&(this.transitioner_groups[t]=!1)):this.debug_mode&&this.log(\":fail: => \"+e)}}},{key:\"run_sensors\",value:function(){for(var e=0;e<this.sensor_order.length;e++){var s=this.sensor_order[e],t=this.run_sensor(s);this.gui_mode&&(this.sensors_gui_buffer[s]=t)}}},{key:\"process_data\",value:function(e){for(var s in this.update_buffer_with_data_object(e),this.run_sensors(),this.transitioners)this.run_transitioner(s);for(var t in this.transitioner_groups)this.transitioner_groups[t]=!0;this.gui_mode&&this.ui.handle_sensor_buffer(e.time,this.sensors_gui_buffer)}},{key:\"run_debug_cycle\",value:function(){this.process_data(f())}}]),t}();exports.default=o;var u={acc_x:0,acc_y:0,acc_z:0,gyr_x:0,gyr_y:0,gyr_z:0,sample:0,time:0,dev:\"B\"},a=Math.random,_=0;function f(){return{acc_x:a(),acc_y:a(),acc_z:a(),gyr_x:a(),gyr_y:a(),gyr_z:a(),sample:_++,dev:\"B\"}}","map":{"mappings":[{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":0}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":13}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":20}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":35}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":43}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":56}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":57}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":64}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":68}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":76}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":89}},{"source":"core_modules/state_machine.js","original":{"line":4,"column":0},"generated":{"line":1,"column":91}},{"source":"core_modules/state_machine.js","original":{"line":4,"column":0},"generated":{"line":1,"column":95}},{"source":"core_modules/state_machine.js","original":{"line":4,"column":0},"generated":{"line":1,"column":97}},{"source":"core_modules/state_machine.js","original":{"line":4,"column":0},"generated":{"line":1,"column":105}},{"source":"core_modules/state_machine.js","original":{"line":5,"column":0},"generated":{"line":1,"column":120}},{"source":"core_modules/state_machine.js","original":{"line":5,"column":0},"generated":{"line":1,"column":122}},{"source":"core_modules/state_machine.js","original":{"line":5,"column":0},"generated":{"line":1,"column":124}},{"source":"core_modules/state_machine.js","original":{"line":5,"column":0},"generated":{"line":1,"column":132}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":144}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":153}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":155}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":158}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":165}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":168}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":170}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":181}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":183}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":184}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":192}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":195}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":204}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":206}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":208}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":211}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":216}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":229}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":232}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":238}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":242}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":252}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":289}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":298}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":300}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":302}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":305}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":309}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":313}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":315}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":317}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":319}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":321}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":328}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":332}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":333}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":337}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":339}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":341}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":344}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":346}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":357}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":359}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":372}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":374}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":376}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":390}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":392}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":402}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":406}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":408}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":418}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":421}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":428}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":443}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":445}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":447}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":451}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":455}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":464}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":466}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":468}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":470}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":473}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":480}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":483}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":485}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":487}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":497}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":500}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":503}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":505}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":507}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":510}},{"source":"core_modules/state_machine.js","name":"state_machine","original":{"line":12,"column":21},"generated":{"line":1,"column":512}},{"source":"core_modules/state_machine.js","name":"state_machine","original":{"line":12,"column":21},"generated":{"line":1,"column":516}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":518}},{"source":"core_modules/state_machine.js","name":"opts","original":{"line":18,"column":16},"generated":{"line":1,"column":529}},{"source":"core_modules/state_machine.js","name":"opts","original":{"line":18,"column":16},"generated":{"line":1,"column":538}},{"source":"core_modules/state_machine.js","name":"opts","original":{"line":18,"column":16},"generated":{"line":1,"column":540}},{"source":"core_modules/state_machine.js","original":{"line":18,"column":22},"generated":{"line":1,"column":543}},{"source":"core_modules/state_machine.js","original":{"line":18,"column":22},"generated":{"line":1,"column":545}},{"source":"core_modules/state_machine.js","original":{"line":18,"column":22},"generated":{"line":1,"column":550}},{"source":"core_modules/state_machine.js","name":"buffer_size","original":{"line":19,"column":6},"generated":{"line":1,"column":553}},{"source":"core_modules/state_machine.js","name":"buffer_size","original":{"line":19,"column":6},"generated":{"line":1,"column":557}},{"source":"core_modules/state_machine.js","name":"opts","original":{"line":19,"column":43},"generated":{"line":1,"column":559}},{"source":"core_modules/state_machine.js","name":"buffer_size","original":{"line":19,"column":6},"generated":{"line":1,"column":561}},{"source":"core_modules/state_machine.js","name":"gui_mode","original":{"line":19,"column":19},"generated":{"line":1,"column":573}},{"source":"core_modules/state_machine.js","name":"opts","original":{"line":19,"column":43},"generated":{"line":1,"column":575}},{"source":"core_modules/state_machine.js","name":"gui_mode","original":{"line":19,"column":19},"generated":{"line":1,"column":577}},{"source":"core_modules/state_machine.js","name":"debug_mode","original":{"line":19,"column":29},"generated":{"line":1,"column":586}},{"source":"core_modules/state_machine.js","name":"opts","original":{"line":19,"column":43},"generated":{"line":1,"column":588}},{"source":"core_modules/state_machine.js","name":"debug_mode","original":{"line":19,"column":29},"generated":{"line":1,"column":590}},{"source":"core_modules/state_machine.js","name":"log","original":{"line":20,"column":6},"generated":{"line":1,"column":601}},{"source":"core_modules/state_machine.js","name":"log","original":{"line":20,"column":6},"generated":{"line":1,"column":606}},{"source":"core_modules/state_machine.js","original":{"line":20,"column":12},"generated":{"line":1,"column":611}},{"source":"core_modules/state_machine.js","original":{"line":20,"column":23},"generated":{"line":1,"column":613}},{"source":"core_modules/state_machine.js","original":{"line":20,"column":23},"generated":{"line":1,"column":615}},{"source":"core_modules/state_machine.js","original":{"line":20,"column":23},"generated":{"line":1,"column":627}},{"source":"core_modules/state_machine.js","name":"buffer_size","original":{"line":21,"column":6},"generated":{"line":1,"column":633}},{"source":"core_modules/state_machine.js","name":"buffer_size","original":{"line":21,"column":6},"generated":{"line":1,"column":638}},{"source":"core_modules/state_machine.js","name":"buffer_size","original":{"line":21,"column":20},"generated":{"line":1,"column":650}},{"source":"core_modules/state_machine.js","name":"sensor_buffer_size","original":{"line":22,"column":6},"generated":{"line":1,"column":652}},{"source":"core_modules/state_machine.js","name":"sensor_buffer_size","original":{"line":22,"column":6},"generated":{"line":1,"column":657}},{"source":"core_modules/state_machine.js","name":"buffer_size","original":{"line":22,"column":27},"generated":{"line":1,"column":676}},{"source":"core_modules/state_machine.js","name":"buffer","original":{"line":23,"column":6},"generated":{"line":1,"column":678}},{"source":"core_modules/state_machine.js","name":"buffer","original":{"line":23,"column":6},"generated":{"line":1,"column":683}},{"source":"core_modules/state_machine.js","name":"Array","original":{"line":23,"column":15},"generated":{"line":1,"column":690}},{"source":"core_modules/state_machine.js","name":"buffer_size","original":{"line":23,"column":21},"generated":{"line":1,"column":696}},{"source":"core_modules/state_machine.js","name":"fill","original":{"line":23,"column":34},"generated":{"line":1,"column":699}},{"source":"core_modules/state_machine.js","name":"default_data_obj","original":{"line":23,"column":39},"generated":{"line":1,"column":704}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":24,"column":6},"generated":{"line":1,"column":707}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":24,"column":6},"generated":{"line":1,"column":712}},{"source":"core_modules/state_machine.js","original":{"line":24,"column":16},"generated":{"line":1,"column":720}},{"source":"core_modules/state_machine.js","name":"transitioners","original":{"line":25,"column":6},"generated":{"line":1,"column":723}},{"source":"core_modules/state_machine.js","name":"transitioners","original":{"line":25,"column":6},"generated":{"line":1,"column":728}},{"source":"core_modules/state_machine.js","original":{"line":25,"column":22},"generated":{"line":1,"column":742}},{"source":"core_modules/state_machine.js","name":"transitioner_groups","original":{"line":26,"column":6},"generated":{"line":1,"column":745}},{"source":"core_modules/state_machine.js","name":"transitioner_groups","original":{"line":26,"column":6},"generated":{"line":1,"column":750}},{"source":"core_modules/state_machine.js","original":{"line":26,"column":28},"generated":{"line":1,"column":770}},{"source":"core_modules/state_machine.js","name":"STATE","original":{"line":27,"column":6},"generated":{"line":1,"column":773}},{"source":"core_modules/state_machine.js","name":"STATE","original":{"line":27,"column":6},"generated":{"line":1,"column":778}},{"source":"core_modules/state_machine.js","original":{"line":27,"column":15},"generated":{"line":1,"column":784}},{"source":"core_modules/state_machine.js","name":"gui_mode","original":{"line":28,"column":6},"generated":{"line":1,"column":787}},{"source":"core_modules/state_machine.js","name":"gui_mode","original":{"line":28,"column":6},"generated":{"line":1,"column":792}},{"source":"core_modules/state_machine.js","name":"gui_mode","original":{"line":28,"column":17},"generated":{"line":1,"column":801}},{"source":"core_modules/state_machine.js","name":"debug_mode","original":{"line":29,"column":6},"generated":{"line":1,"column":803}},{"source":"core_modules/state_machine.js","name":"debug_mode","original":{"line":29,"column":6},"generated":{"line":1,"column":808}},{"source":"core_modules/state_machine.js","name":"debug_mode","original":{"line":29,"column":19},"generated":{"line":1,"column":819}},{"source":"core_modules/state_machine.js","original":{"line":29,"column":33},"generated":{"line":1,"column":823}},{"source":"core_modules/state_machine.js","name":"gui_mode","original":{"line":30,"column":5},"generated":{"line":1,"column":825}},{"source":"core_modules/state_machine.js","name":"sensors_gui_buffer","original":{"line":32,"column":10},"generated":{"line":1,"column":829}},{"source":"core_modules/state_machine.js","name":"sensors_gui_buffer","original":{"line":32,"column":10},"generated":{"line":1,"column":834}},{"source":"core_modules/state_machine.js","original":{"line":32,"column":31},"generated":{"line":1,"column":853}},{"source":"core_modules/state_machine.js","name":"ui_mapping","original":{"line":34,"column":10},"generated":{"line":1,"column":856}},{"source":"core_modules/state_machine.js","name":"ui_mapping","original":{"line":34,"column":10},"generated":{"line":1,"column":861}},{"source":"core_modules/state_machine.js","original":{"line":34,"column":23},"generated":{"line":1,"column":872}},{"source":"core_modules/state_machine.js","name":"ui","original":{"line":37,"column":10},"generated":{"line":1,"column":877}},{"source":"core_modules/state_machine.js","name":"ui","original":{"line":37,"column":10},"generated":{"line":1,"column":882}},{"source":"core_modules/state_machine.js","original":{"line":37,"column":15},"generated":{"line":1,"column":885}},{"source":"core_modules/state_machine.js","name":"ui","original":{"line":37,"column":19},"generated":{"line":1,"column":889}},{"source":"core_modules/state_machine.js","original":{"line":37,"column":15},"generated":{"line":1,"column":891}},{"source":"core_modules/state_machine.js","original":{"line":37,"column":22},"generated":{"line":1,"column":899}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":906}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":913}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":915}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":917}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":918}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":919}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":923}},{"source":"core_modules/state_machine.js","name":"state","original":{"line":46,"column":15},"generated":{"line":1,"column":936}},{"source":"core_modules/state_machine.js","name":"state","original":{"line":46,"column":15},"generated":{"line":1,"column":942}},{"source":"core_modules/state_machine.js","name":"state","original":{"line":46,"column":15},"generated":{"line":1,"column":951}},{"source":"core_modules/state_machine.js","name":"STATE","original":{"line":47,"column":6},"generated":{"line":1,"column":954}},{"source":"core_modules/state_machine.js","name":"STATE","original":{"line":47,"column":6},"generated":{"line":1,"column":959}},{"source":"core_modules/state_machine.js","name":"state","original":{"line":47,"column":14},"generated":{"line":1,"column":965}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":969}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":970}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":974}},{"source":"core_modules/state_machine.js","name":"obj","original":{"line":55,"column":35},"generated":{"line":1,"column":1007}},{"source":"core_modules/state_machine.js","name":"obj","original":{"line":55,"column":35},"generated":{"line":1,"column":1013}},{"source":"core_modules/state_machine.js","name":"obj","original":{"line":55,"column":35},"generated":{"line":1,"column":1022}},{"source":"core_modules/state_machine.js","name":"buffer","original":{"line":56,"column":6},"generated":{"line":1,"column":1025}},{"source":"core_modules/state_machine.js","name":"buffer","original":{"line":56,"column":6},"generated":{"line":1,"column":1030}},{"source":"core_modules/state_machine.js","name":"push","original":{"line":56,"column":13},"generated":{"line":1,"column":1037}},{"source":"core_modules/state_machine.js","name":"obj","original":{"line":56,"column":18},"generated":{"line":1,"column":1042}},{"source":"core_modules/state_machine.js","name":"buffer","original":{"line":57,"column":6},"generated":{"line":1,"column":1045}},{"source":"core_modules/state_machine.js","name":"buffer","original":{"line":57,"column":6},"generated":{"line":1,"column":1050}},{"source":"core_modules/state_machine.js","name":"shift","original":{"line":57,"column":13},"generated":{"line":1,"column":1057}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":1067}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":1068}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":1072}},{"source":"core_modules/state_machine.js","original":{"line":63,"column":23},"generated":{"line":1,"column":1091}},{"source":"core_modules/state_machine.js","original":{"line":63,"column":23},"generated":{"line":1,"column":1097}},{"source":"core_modules/state_machine.js","name":"sensor_order","original":{"line":74,"column":6},"generated":{"line":1,"column":1108}},{"source":"core_modules/state_machine.js","name":"sensor_order","original":{"line":74,"column":6},"generated":{"line":1,"column":1113}},{"source":"core_modules/state_machine.js","name":"util","original":{"line":74,"column":21},"generated":{"line":1,"column":1126}},{"source":"core_modules/state_machine.js","name":"dict_2_vec","original":{"line":74,"column":26},"generated":{"line":1,"column":1131}},{"source":"core_modules/state_machine.js","original":{"line":74,"column":37},"generated":{"line":1,"column":1142}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":74,"column":42},"generated":{"line":1,"column":1147}},{"source":"core_modules/state_machine.js","name":"sort","original":{"line":74,"column":51},"generated":{"line":1,"column":1156}},{"source":"core_modules/state_machine.js","original":{"line":64,"column":15},"generated":{"line":1,"column":1161}},{"source":"core_modules/state_machine.js","name":"x","original":{"line":64,"column":24},"generated":{"line":1,"column":1170}},{"source":"core_modules/state_machine.js","name":"y","original":{"line":64,"column":26},"generated":{"line":1,"column":1172}},{"source":"core_modules/state_machine.js","name":"l1","original":{"line":68,"column":9},"generated":{"line":1,"column":1175}},{"source":"core_modules/state_machine.js","name":"x","original":{"line":65,"column":14},"generated":{"line":1,"column":1182}},{"source":"core_modules/state_machine.js","original":{"line":65,"column":16},"generated":{"line":1,"column":1184}},{"source":"core_modules/state_machine.js","name":"level","original":{"line":65,"column":19},"generated":{"line":1,"column":1187}},{"source":"core_modules/state_machine.js","name":"y","original":{"line":66,"column":14},"generated":{"line":1,"column":1193}},{"source":"core_modules/state_machine.js","original":{"line":66,"column":16},"generated":{"line":1,"column":1195}},{"source":"core_modules/state_machine.js","name":"level","original":{"line":66,"column":19},"generated":{"line":1,"column":1198}},{"source":"core_modules/state_machine.js","original":{"line":69,"column":9},"generated":{"line":1,"column":1204}},{"source":"core_modules/state_machine.js","original":{"line":71,"column":10},"generated":{"line":1,"column":1207}},{"source":"core_modules/state_machine.js","name":"map","original":{"line":74,"column":65},"generated":{"line":1,"column":1211}},{"source":"core_modules/state_machine.js","original":{"line":74,"column":69},"generated":{"line":1,"column":1215}},{"source":"core_modules/state_machine.js","name":"e","original":{"line":74,"column":69},"generated":{"line":1,"column":1224}},{"source":"core_modules/state_machine.js","name":"e","original":{"line":74,"column":72},"generated":{"line":1,"column":1227}},{"source":"core_modules/state_machine.js","name":"e","original":{"line":74,"column":72},"generated":{"line":1,"column":1234}},{"source":"core_modules/state_machine.js","original":{"line":74,"column":74},"generated":{"line":1,"column":1236}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":1243}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":1244}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":1248}},{"source":"core_modules/state_machine.js","name":"opts","original":{"line":82,"column":15},"generated":{"line":1,"column":1261}},{"source":"core_modules/state_machine.js","name":"opts","original":{"line":82,"column":15},"generated":{"line":1,"column":1267}},{"source":"core_modules/state_machine.js","name":"opts","original":{"line":82,"column":15},"generated":{"line":1,"column":1276}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":83,"column":5},"generated":{"line":1,"column":1279}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":83,"column":5},"generated":{"line":1,"column":1283}},{"source":"core_modules/state_machine.js","name":"f","original":{"line":83,"column":8},"generated":{"line":1,"column":1285}},{"source":"core_modules/state_machine.js","name":"l","original":{"line":83,"column":10},"generated":{"line":1,"column":1287}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":84,"column":1},"generated":{"line":1,"column":1289}},{"source":"core_modules/state_machine.js","name":"opts","original":{"line":84,"column":6},"generated":{"line":1,"column":1291}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":84,"column":11},"generated":{"line":1,"column":1293}},{"source":"core_modules/state_machine.js","name":"f","original":{"line":84,"column":16},"generated":{"line":1,"column":1296}},{"source":"core_modules/state_machine.js","name":"opts","original":{"line":84,"column":20},"generated":{"line":1,"column":1298}},{"source":"core_modules/state_machine.js","name":"f","original":{"line":84,"column":25},"generated":{"line":1,"column":1300}},{"source":"core_modules/state_machine.js","name":"l","original":{"line":84,"column":29},"generated":{"line":1,"column":1302}},{"source":"core_modules/state_machine.js","name":"opts","original":{"line":84,"column":33},"generated":{"line":1,"column":1304}},{"source":"core_modules/state_machine.js","name":"level","original":{"line":84,"column":38},"generated":{"line":1,"column":1306}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":86,"column":6},"generated":{"line":1,"column":1312}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":86,"column":6},"generated":{"line":1,"column":1317}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":86,"column":14},"generated":{"line":1,"column":1325}},{"source":"core_modules/state_machine.js","original":{"line":86,"column":20},"generated":{"line":1,"column":1328}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":88,"column":6},"generated":{"line":1,"column":1331}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":88,"column":6},"generated":{"line":1,"column":1336}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":88,"column":14},"generated":{"line":1,"column":1344}},{"source":"core_modules/state_machine.js","original":{"line":88,"column":1},"generated":{"line":1,"column":1347}},{"source":"core_modules/state_machine.js","name":"f","original":{"line":88,"column":32},"generated":{"line":1,"column":1356}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":90,"column":6},"generated":{"line":1,"column":1358}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":90,"column":6},"generated":{"line":1,"column":1363}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":90,"column":14},"generated":{"line":1,"column":1371}},{"source":"core_modules/state_machine.js","original":{"line":90,"column":1},"generated":{"line":1,"column":1374}},{"source":"core_modules/state_machine.js","name":"Array","original":{"line":90,"column":30},"generated":{"line":1,"column":1381}},{"source":"core_modules/state_machine.js","original":{"line":90,"column":36},"generated":{"line":1,"column":1387}},{"source":"core_modules/state_machine.js","name":"sensor_buffer_size","original":{"line":90,"column":41},"generated":{"line":1,"column":1392}},{"source":"core_modules/state_machine.js","name":"fill","original":{"line":90,"column":61},"generated":{"line":1,"column":1412}},{"source":"core_modules/state_machine.js","name":"NaN","original":{"line":90,"column":66},"generated":{"line":1,"column":1417}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":92,"column":6},"generated":{"line":1,"column":1422}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":92,"column":6},"generated":{"line":1,"column":1427}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":92,"column":14},"generated":{"line":1,"column":1435}},{"source":"core_modules/state_machine.js","original":{"line":92,"column":1},"generated":{"line":1,"column":1438}},{"source":"core_modules/state_machine.js","name":"l","original":{"line":92,"column":29},"generated":{"line":1,"column":1444}},{"source":"core_modules/state_machine.js","original":{"line":92,"column":34},"generated":{"line":1,"column":1447}},{"source":"core_modules/state_machine.js","original":{"line":93,"column":5},"generated":{"line":1,"column":1449}},{"source":"core_modules/state_machine.js","name":"debug_mode","original":{"line":93,"column":10},"generated":{"line":1,"column":1454}},{"source":"core_modules/state_machine.js","name":"log","original":{"line":94,"column":10},"generated":{"line":1,"column":1466}},{"source":"core_modules/state_machine.js","name":"log","original":{"line":94,"column":10},"generated":{"line":1,"column":1471}},{"source":"core_modules/state_machine.js","original":{"line":94,"column":14},"generated":{"line":1,"column":1475}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":94,"column":33},"generated":{"line":1,"column":1492}},{"source":"core_modules/state_machine.js","name":"set_sensor_order","original":{"line":96,"column":6},"generated":{"line":1,"column":1495}},{"source":"core_modules/state_machine.js","name":"set_sensor_order","original":{"line":96,"column":6},"generated":{"line":1,"column":1500}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":1521}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":1522}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":1526}},{"source":"core_modules/state_machine.js","name":"ui_mapping","original":{"line":104,"column":13},"generated":{"line":1,"column":1537}},{"source":"core_modules/state_machine.js","name":"ui_mapping","original":{"line":104,"column":13},"generated":{"line":1,"column":1543}},{"source":"core_modules/state_machine.js","name":"ui_mapping","original":{"line":104,"column":13},"generated":{"line":1,"column":1552}},{"source":"core_modules/state_machine.js","original":{"line":107,"column":6},"generated":{"line":1,"column":1555}},{"source":"core_modules/state_machine.js","original":{"line":107,"column":6},"generated":{"line":1,"column":1559}},{"source":"core_modules/state_machine.js","name":"graph","original":{"line":107,"column":10},"generated":{"line":1,"column":1563}},{"source":"core_modules/state_machine.js","name":"ui_mapping","original":{"line":105,"column":6},"generated":{"line":1,"column":1568}},{"source":"core_modules/state_machine.js","name":"ui_mapping","original":{"line":105,"column":6},"generated":{"line":1,"column":1573}},{"source":"core_modules/state_machine.js","name":"ui_mapping","original":{"line":105,"column":19},"generated":{"line":1,"column":1584}},{"source":"core_modules/state_machine.js","original":{"line":107,"column":19},"generated":{"line":1,"column":1586}},{"source":"core_modules/state_machine.js","name":"ui_mapping","original":{"line":107,"column":24},"generated":{"line":1,"column":1591}},{"source":"core_modules/state_machine.js","original":{"line":107,"column":38},"generated":{"line":1,"column":1602}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":108,"column":9},"generated":{"line":1,"column":1603}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":108,"column":9},"generated":{"line":1,"column":1607}},{"source":"core_modules/state_machine.js","original":{"line":108,"column":19},"generated":{"line":1,"column":1609}},{"source":"core_modules/state_machine.js","name":"ui_mapping","original":{"line":108,"column":24},"generated":{"line":1,"column":1614}},{"source":"core_modules/state_machine.js","name":"graph","original":{"line":108,"column":35},"generated":{"line":1,"column":1625}},{"source":"core_modules/state_machine.js","name":"ui","original":{"line":109,"column":10},"generated":{"line":1,"column":1628}},{"source":"core_modules/state_machine.js","name":"ui","original":{"line":109,"column":10},"generated":{"line":1,"column":1633}},{"source":"core_modules/state_machine.js","name":"add_graph","original":{"line":109,"column":13},"generated":{"line":1,"column":1636}},{"source":"core_modules/state_machine.js","name":"graph","original":{"line":109,"column":23},"generated":{"line":1,"column":1646}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":109,"column":30},"generated":{"line":1,"column":1648}},{"source":"core_modules/state_machine.js","name":"ui","original":{"line":113,"column":6},"generated":{"line":1,"column":1651}},{"source":"core_modules/state_machine.js","name":"ui","original":{"line":113,"column":6},"generated":{"line":1,"column":1656}},{"source":"core_modules/state_machine.js","name":"init","original":{"line":113,"column":9},"generated":{"line":1,"column":1659}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":1668}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":1669}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":1673}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":123,"column":15},"generated":{"line":1,"column":1686}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":123,"column":15},"generated":{"line":1,"column":1692}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":123,"column":15},"generated":{"line":1,"column":1701}},{"source":"core_modules/state_machine.js","name":"f","original":{"line":125,"column":5},"generated":{"line":1,"column":1704}},{"source":"core_modules/state_machine.js","name":"val","original":{"line":127,"column":5},"generated":{"line":1,"column":1708}},{"source":"core_modules/state_machine.js","name":"f","original":{"line":127,"column":11},"generated":{"line":1,"column":1711}},{"source":"core_modules/state_machine.js","original":{"line":125,"column":9},"generated":{"line":1,"column":1713}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":125,"column":14},"generated":{"line":1,"column":1718}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":125,"column":22},"generated":{"line":1,"column":1726}},{"source":"core_modules/state_machine.js","original":{"line":125,"column":9},"generated":{"line":1,"column":1729}},{"source":"core_modules/state_machine.js","original":{"line":127,"column":13},"generated":{"line":1,"column":1739}},{"source":"core_modules/state_machine.js","name":"val","original":{"line":144,"column":8},"generated":{"line":1,"column":1745}},{"source":"core_modules/state_machine.js","name":"val","original":{"line":138,"column":5},"generated":{"line":1,"column":1752}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":140,"column":10},"generated":{"line":1,"column":1756}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":140,"column":10},"generated":{"line":1,"column":1761}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":140,"column":18},"generated":{"line":1,"column":1769}},{"source":"core_modules/state_machine.js","original":{"line":140,"column":5},"generated":{"line":1,"column":1772}},{"source":"core_modules/state_machine.js","name":"push","original":{"line":140,"column":32},"generated":{"line":1,"column":1779}},{"source":"core_modules/state_machine.js","name":"val","original":{"line":140,"column":37},"generated":{"line":1,"column":1784}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":141,"column":10},"generated":{"line":1,"column":1787}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":141,"column":10},"generated":{"line":1,"column":1792}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":141,"column":18},"generated":{"line":1,"column":1800}},{"source":"core_modules/state_machine.js","original":{"line":141,"column":5},"generated":{"line":1,"column":1803}},{"source":"core_modules/state_machine.js","name":"shift","original":{"line":141,"column":32},"generated":{"line":1,"column":1810}},{"source":"core_modules/state_machine.js","name":"val","original":{"line":144,"column":8},"generated":{"line":1,"column":1819}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":1823}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":1824}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":1828}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":153,"column":22},"generated":{"line":1,"column":1848}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":153,"column":22},"generated":{"line":1,"column":1854}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":153,"column":22},"generated":{"line":1,"column":1863}},{"source":"core_modules/state_machine.js","name":"num","original":{"line":153,"column":25},"generated":{"line":1,"column":1865}},{"source":"core_modules/state_machine.js","original":{"line":154,"column":8},"generated":{"line":1,"column":1868}},{"source":"core_modules/state_machine.js","original":{"line":154,"column":8},"generated":{"line":1,"column":1875}},{"source":"core_modules/state_machine.js","name":"sensors","original":{"line":154,"column":13},"generated":{"line":1,"column":1880}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":154,"column":21},"generated":{"line":1,"column":1888}},{"source":"core_modules/state_machine.js","original":{"line":154,"column":8},"generated":{"line":1,"column":1891}},{"source":"core_modules/state_machine.js","name":"slice","original":{"line":154,"column":35},"generated":{"line":1,"column":1898}},{"source":"core_modules/state_machine.js","original":{"line":154,"column":41},"generated":{"line":1,"column":1904}},{"source":"core_modules/state_machine.js","name":"buffer_size","original":{"line":154,"column":46},"generated":{"line":1,"column":1909}},{"source":"core_modules/state_machine.js","name":"num","original":{"line":154,"column":60},"generated":{"line":1,"column":1921}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":1926}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":1927}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":1931}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":162,"column":22},"generated":{"line":1,"column":1951}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":162,"column":22},"generated":{"line":1,"column":1957}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":162,"column":22},"generated":{"line":1,"column":1966}},{"source":"core_modules/state_machine.js","name":"get_sensor_last_N","original":{"line":163,"column":8},"generated":{"line":1,"column":1969}},{"source":"core_modules/state_machine.js","name":"get_sensor_last_N","original":{"line":163,"column":8},"generated":{"line":1,"column":1976}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":163,"column":26},"generated":{"line":1,"column":1994}},{"source":"core_modules/state_machine.js","original":{"line":163,"column":30},"generated":{"line":1,"column":1996}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":2001}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":2002}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":2006}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":171,"column":21},"generated":{"line":1,"column":2025}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":171,"column":21},"generated":{"line":1,"column":2031}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":171,"column":21},"generated":{"line":1,"column":2040}},{"source":"core_modules/state_machine.js","name":"transitioner","original":{"line":171,"column":24},"generated":{"line":1,"column":2042}},{"source":"core_modules/state_machine.js","original":{"line":173,"column":5},"generated":{"line":1,"column":2045}},{"source":"core_modules/state_machine.js","name":"transitioner","original":{"line":173,"column":8},"generated":{"line":1,"column":2049}},{"source":"core_modules/state_machine.js","name":"detector","original":{"line":173,"column":21},"generated":{"line":1,"column":2051}},{"source":"core_modules/state_machine.js","name":"transitioner","original":{"line":173,"column":33},"generated":{"line":1,"column":2062}},{"source":"core_modules/state_machine.js","name":"applicator","original":{"line":173,"column":46},"generated":{"line":1,"column":2064}},{"source":"core_modules/state_machine.js","original":{"line":174,"column":11},"generated":{"line":1,"column":2075}},{"source":"core_modules/state_machine.js","original":{"line":174,"column":11},"generated":{"line":1,"column":2080}},{"source":"core_modules/state_machine.js","name":"transitioners","original":{"line":178,"column":6},"generated":{"line":1,"column":2149}},{"source":"core_modules/state_machine.js","name":"transitioners","original":{"line":178,"column":6},"generated":{"line":1,"column":2154}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":178,"column":20},"generated":{"line":1,"column":2168}},{"source":"core_modules/state_machine.js","name":"transitioner","original":{"line":178,"column":26},"generated":{"line":1,"column":2171}},{"source":"core_modules/state_machine.js","name":"transitioner","original":{"line":181,"column":5},"generated":{"line":1,"column":2173}},{"source":"core_modules/state_machine.js","name":"group","original":{"line":181,"column":18},"generated":{"line":1,"column":2175}},{"source":"core_modules/state_machine.js","name":"transitioner_groups","original":{"line":182,"column":10},"generated":{"line":1,"column":2183}},{"source":"core_modules/state_machine.js","name":"transitioner_groups","original":{"line":182,"column":10},"generated":{"line":1,"column":2188}},{"source":"core_modules/state_machine.js","name":"transitioner","original":{"line":182,"column":30},"generated":{"line":1,"column":2208}},{"source":"core_modules/state_machine.js","name":"group","original":{"line":182,"column":43},"generated":{"line":1,"column":2210}},{"source":"core_modules/state_machine.js","original":{"line":182,"column":52},"generated":{"line":1,"column":2218}},{"source":"core_modules/state_machine.js","original":{"line":185,"column":5},"generated":{"line":1,"column":2221}},{"source":"core_modules/state_machine.js","name":"debug_mode","original":{"line":185,"column":10},"generated":{"line":1,"column":2226}},{"source":"core_modules/state_machine.js","name":"log","original":{"line":186,"column":10},"generated":{"line":1,"column":2238}},{"source":"core_modules/state_machine.js","name":"log","original":{"line":186,"column":10},"generated":{"line":1,"column":2243}},{"source":"core_modules/state_machine.js","original":{"line":186,"column":14},"generated":{"line":1,"column":2247}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":186,"column":39},"generated":{"line":1,"column":2270}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":2275}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":2276}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":2280}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":195,"column":21},"generated":{"line":1,"column":2299}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":195,"column":21},"generated":{"line":1,"column":2305}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":195,"column":21},"generated":{"line":1,"column":2314}},{"source":"core_modules/state_machine.js","name":"transitioner","original":{"line":197,"column":5},"generated":{"line":1,"column":2317}},{"source":"core_modules/state_machine.js","name":"transitioner","original":{"line":197,"column":5},"generated":{"line":1,"column":2321}},{"source":"core_modules/state_machine.js","original":{"line":197,"column":20},"generated":{"line":1,"column":2323}},{"source":"core_modules/state_machine.js","name":"transitioners","original":{"line":197,"column":25},"generated":{"line":1,"column":2328}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":197,"column":39},"generated":{"line":1,"column":2342}},{"source":"core_modules/state_machine.js","name":"group","original":{"line":200,"column":5},"generated":{"line":1,"column":2345}},{"source":"core_modules/state_machine.js","name":"transitioner","original":{"line":200,"column":13},"generated":{"line":1,"column":2347}},{"source":"core_modules/state_machine.js","name":"group","original":{"line":200,"column":26},"generated":{"line":1,"column":2349}},{"source":"core_modules/state_machine.js","name":"group_status","original":{"line":201,"column":5},"generated":{"line":1,"column":2355}},{"source":"core_modules/state_machine.js","original":{"line":201,"column":20},"generated":{"line":1,"column":2357}},{"source":"core_modules/state_machine.js","name":"transitioner_groups","original":{"line":201,"column":25},"generated":{"line":1,"column":2362}},{"source":"core_modules/state_machine.js","name":"group","original":{"line":201,"column":45},"generated":{"line":1,"column":2382}},{"source":"core_modules/state_machine.js","name":"group_status","original":{"line":204,"column":6},"generated":{"line":1,"column":2385}},{"source":"core_modules/state_machine.js","original":{"line":204,"column":22},"generated":{"line":1,"column":2388}},{"source":"core_modules/state_machine.js","name":"group_status","original":{"line":204,"column":6},"generated":{"line":1,"column":2391}},{"source":"core_modules/state_machine.js","original":{"line":204,"column":30},"generated":{"line":1,"column":2393}},{"source":"core_modules/state_machine.js","name":"detector","original":{"line":207,"column":9},"generated":{"line":1,"column":2394}},{"source":"core_modules/state_machine.js","name":"detector","original":{"line":207,"column":9},"generated":{"line":1,"column":2398}},{"source":"core_modules/state_machine.js","name":"transitioner","original":{"line":207,"column":20},"generated":{"line":1,"column":2400}},{"source":"core_modules/state_machine.js","name":"detector","original":{"line":207,"column":33},"generated":{"line":1,"column":2402}},{"source":"core_modules/state_machine.js","name":"applicator","original":{"line":208,"column":9},"generated":{"line":1,"column":2411}},{"source":"core_modules/state_machine.js","name":"transitioner","original":{"line":208,"column":22},"generated":{"line":1,"column":2413}},{"source":"core_modules/state_machine.js","name":"applicator","original":{"line":208,"column":35},"generated":{"line":1,"column":2415}},{"source":"core_modules/state_machine.js","name":"detector","original":{"line":213,"column":9},"generated":{"line":1,"column":2426}},{"source":"core_modules/state_machine.js","original":{"line":213,"column":18},"generated":{"line":1,"column":2428}},{"source":"core_modules/state_machine.js","original":{"line":214,"column":6},"generated":{"line":1,"column":2435}},{"source":"core_modules/state_machine.js","name":"debug_mode","original":{"line":214,"column":11},"generated":{"line":1,"column":2440}},{"source":"core_modules/state_machine.js","name":"log","original":{"line":214,"column":30},"generated":{"line":1,"column":2452}},{"source":"core_modules/state_machine.js","name":"log","original":{"line":214,"column":30},"generated":{"line":1,"column":2457}},{"source":"core_modules/state_machine.js","original":{"line":214,"column":34},"generated":{"line":1,"column":2461}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":214,"column":50},"generated":{"line":1,"column":2475}},{"source":"core_modules/state_machine.js","name":"applicator","original":{"line":215,"column":2},"generated":{"line":1,"column":2478}},{"source":"core_modules/state_machine.js","original":{"line":215,"column":13},"generated":{"line":1,"column":2480}},{"source":"core_modules/state_machine.js","name":"group_status","original":{"line":217,"column":6},"generated":{"line":1,"column":2486}},{"source":"core_modules/state_machine.js","name":"transitioner_groups","original":{"line":218,"column":11},"generated":{"line":1,"column":2490}},{"source":"core_modules/state_machine.js","name":"transitioner_groups","original":{"line":218,"column":11},"generated":{"line":1,"column":2495}},{"source":"core_modules/state_machine.js","name":"group","original":{"line":218,"column":31},"generated":{"line":1,"column":2515}},{"source":"core_modules/state_machine.js","original":{"line":218,"column":40},"generated":{"line":1,"column":2519}},{"source":"core_modules/state_machine.js","original":{"line":221,"column":6},"generated":{"line":1,"column":2523}},{"source":"core_modules/state_machine.js","name":"debug_mode","original":{"line":221,"column":11},"generated":{"line":1,"column":2528}},{"source":"core_modules/state_machine.js","name":"log","original":{"line":221,"column":30},"generated":{"line":1,"column":2540}},{"source":"core_modules/state_machine.js","name":"log","original":{"line":221,"column":30},"generated":{"line":1,"column":2545}},{"source":"core_modules/state_machine.js","original":{"line":221,"column":34},"generated":{"line":1,"column":2549}},{"source":"core_modules/state_machine.js","name":"id","original":{"line":221,"column":49},"generated":{"line":1,"column":2562}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":2568}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":2569}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":2573}},{"source":"core_modules/state_machine.js","original":{"line":233,"column":18},"generated":{"line":1,"column":2587}},{"source":"core_modules/state_machine.js","original":{"line":233,"column":18},"generated":{"line":1,"column":2593}},{"source":"core_modules/state_machine.js","original":{"line":234,"column":6},"generated":{"line":1,"column":2604}},{"source":"core_modules/state_machine.js","original":{"line":234,"column":6},"generated":{"line":1,"column":2608}},{"source":"core_modules/state_machine.js","name":"i","original":{"line":234,"column":10},"generated":{"line":1,"column":2612}},{"source":"core_modules/state_machine.js","original":{"line":234,"column":13},"generated":{"line":1,"column":2614}},{"source":"core_modules/state_machine.js","name":"i","original":{"line":234,"column":17},"generated":{"line":1,"column":2616}},{"source":"core_modules/state_machine.js","original":{"line":234,"column":21},"generated":{"line":1,"column":2618}},{"source":"core_modules/state_machine.js","name":"sensor_order","original":{"line":234,"column":26},"generated":{"line":1,"column":2623}},{"source":"core_modules/state_machine.js","name":"length","original":{"line":234,"column":39},"generated":{"line":1,"column":2636}},{"source":"core_modules/state_machine.js","name":"i","original":{"line":234,"column":47},"generated":{"line":1,"column":2643}},{"source":"core_modules/state_machine.js","original":{"line":234,"column":53},"generated":{"line":1,"column":2647}},{"source":"core_modules/state_machine.js","name":"sensor_id","original":{"line":235,"column":9},"generated":{"line":1,"column":2648}},{"source":"core_modules/state_machine.js","name":"sensor_id","original":{"line":235,"column":9},"generated":{"line":1,"column":2652}},{"source":"core_modules/state_machine.js","original":{"line":235,"column":21},"generated":{"line":1,"column":2654}},{"source":"core_modules/state_machine.js","name":"sensor_order","original":{"line":235,"column":26},"generated":{"line":1,"column":2659}},{"source":"core_modules/state_machine.js","name":"i","original":{"line":235,"column":39},"generated":{"line":1,"column":2672}},{"source":"core_modules/state_machine.js","name":"val","original":{"line":236,"column":9},"generated":{"line":1,"column":2675}},{"source":"core_modules/state_machine.js","original":{"line":236,"column":15},"generated":{"line":1,"column":2677}},{"source":"core_modules/state_machine.js","name":"run_sensor","original":{"line":236,"column":20},"generated":{"line":1,"column":2682}},{"source":"core_modules/state_machine.js","name":"sensor_id","original":{"line":236,"column":31},"generated":{"line":1,"column":2693}},{"source":"core_modules/state_machine.js","original":{"line":237,"column":9},"generated":{"line":1,"column":2696}},{"source":"core_modules/state_machine.js","name":"gui_mode","original":{"line":237,"column":14},"generated":{"line":1,"column":2701}},{"source":"core_modules/state_machine.js","name":"sensors_gui_buffer","original":{"line":238,"column":7},"generated":{"line":1,"column":2712}},{"source":"core_modules/state_machine.js","name":"sensors_gui_buffer","original":{"line":238,"column":7},"generated":{"line":1,"column":2717}},{"source":"core_modules/state_machine.js","name":"sensor_id","original":{"line":238,"column":26},"generated":{"line":1,"column":2736}},{"source":"core_modules/state_machine.js","name":"val","original":{"line":238,"column":39},"generated":{"line":1,"column":2739}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":2745}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":2746}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":2750}},{"source":"core_modules/state_machine.js","name":"obj","original":{"line":249,"column":17},"generated":{"line":1,"column":2765}},{"source":"core_modules/state_machine.js","name":"obj","original":{"line":249,"column":17},"generated":{"line":1,"column":2771}},{"source":"core_modules/state_machine.js","name":"obj","original":{"line":249,"column":17},"generated":{"line":1,"column":2780}},{"source":"core_modules/state_machine.js","original":{"line":258,"column":6},"generated":{"line":1,"column":2783}},{"source":"core_modules/state_machine.js","original":{"line":258,"column":6},"generated":{"line":1,"column":2787}},{"source":"core_modules/state_machine.js","name":"transitioner_id","original":{"line":258,"column":10},"generated":{"line":1,"column":2791}},{"source":"core_modules/state_machine.js","name":"update_buffer_with_data_object","original":{"line":252,"column":6},"generated":{"line":1,"column":2796}},{"source":"core_modules/state_machine.js","name":"update_buffer_with_data_object","original":{"line":252,"column":6},"generated":{"line":1,"column":2801}},{"source":"core_modules/state_machine.js","name":"obj","original":{"line":252,"column":37},"generated":{"line":1,"column":2832}},{"source":"core_modules/state_machine.js","name":"run_sensors","original":{"line":255,"column":6},"generated":{"line":1,"column":2835}},{"source":"core_modules/state_machine.js","name":"run_sensors","original":{"line":255,"column":6},"generated":{"line":1,"column":2840}},{"source":"core_modules/state_machine.js","original":{"line":258,"column":29},"generated":{"line":1,"column":2854}},{"source":"core_modules/state_machine.js","name":"transitioners","original":{"line":258,"column":34},"generated":{"line":1,"column":2859}},{"source":"core_modules/state_machine.js","name":"run_transitioner","original":{"line":259,"column":10},"generated":{"line":1,"column":2873}},{"source":"core_modules/state_machine.js","name":"run_transitioner","original":{"line":259,"column":10},"generated":{"line":1,"column":2878}},{"source":"core_modules/state_machine.js","name":"transitioner_id","original":{"line":259,"column":27},"generated":{"line":1,"column":2895}},{"source":"core_modules/state_machine.js","original":{"line":264,"column":6},"generated":{"line":1,"column":2898}},{"source":"core_modules/state_machine.js","original":{"line":264,"column":6},"generated":{"line":1,"column":2902}},{"source":"core_modules/state_machine.js","name":"group","original":{"line":264,"column":10},"generated":{"line":1,"column":2906}},{"source":"core_modules/state_machine.js","original":{"line":264,"column":19},"generated":{"line":1,"column":2911}},{"source":"core_modules/state_machine.js","name":"transitioner_groups","original":{"line":264,"column":24},"generated":{"line":1,"column":2916}},{"source":"core_modules/state_machine.js","name":"transitioner_groups","original":{"line":265,"column":10},"generated":{"line":1,"column":2936}},{"source":"core_modules/state_machine.js","name":"transitioner_groups","original":{"line":265,"column":10},"generated":{"line":1,"column":2941}},{"source":"core_modules/state_machine.js","name":"group","original":{"line":265,"column":30},"generated":{"line":1,"column":2961}},{"source":"core_modules/state_machine.js","original":{"line":265,"column":39},"generated":{"line":1,"column":2965}},{"source":"core_modules/state_machine.js","original":{"line":272,"column":5},"generated":{"line":1,"column":2967}},{"source":"core_modules/state_machine.js","name":"gui_mode","original":{"line":272,"column":10},"generated":{"line":1,"column":2972}},{"source":"core_modules/state_machine.js","name":"ui","original":{"line":275,"column":10},"generated":{"line":1,"column":2982}},{"source":"core_modules/state_machine.js","name":"ui","original":{"line":275,"column":10},"generated":{"line":1,"column":2987}},{"source":"core_modules/state_machine.js","name":"handle_sensor_buffer","original":{"line":275,"column":13},"generated":{"line":1,"column":2990}},{"source":"core_modules/state_machine.js","name":"obj","original":{"line":275,"column":34},"generated":{"line":1,"column":3011}},{"source":"core_modules/state_machine.js","name":"time","original":{"line":275,"column":38},"generated":{"line":1,"column":3013}},{"source":"core_modules/state_machine.js","original":{"line":275,"column":43},"generated":{"line":1,"column":3018}},{"source":"core_modules/state_machine.js","name":"sensors_gui_buffer","original":{"line":275,"column":48},"generated":{"line":1,"column":3023}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":3045}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":3046}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":3050}},{"source":"core_modules/state_machine.js","original":{"line":284,"column":22},"generated":{"line":1,"column":3068}},{"source":"core_modules/state_machine.js","original":{"line":284,"column":22},"generated":{"line":1,"column":3074}},{"source":"core_modules/state_machine.js","name":"process_data","original":{"line":285,"column":6},"generated":{"line":1,"column":3085}},{"source":"core_modules/state_machine.js","name":"process_data","original":{"line":285,"column":6},"generated":{"line":1,"column":3090}},{"source":"core_modules/state_machine.js","name":"random_data_obj","original":{"line":285,"column":19},"generated":{"line":1,"column":3103}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":3112}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":3114}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":3117}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":3125}},{"source":"core_modules/state_machine.js","original":{"line":318,"column":1},"generated":{"line":1,"column":3133}},{"source":"core_modules/state_machine.js","original":{"line":293,"column":0},"generated":{"line":1,"column":3135}},{"source":"core_modules/state_machine.js","name":"default_data_obj","original":{"line":293,"column":4},"generated":{"line":1,"column":3139}},{"source":"core_modules/state_machine.js","original":{"line":293,"column":23},"generated":{"line":1,"column":3141}},{"source":"core_modules/state_machine.js","original":{"line":294,"column":14},"generated":{"line":1,"column":3142}},{"source":"core_modules/state_machine.js","original":{"line":294,"column":14},"generated":{"line":1,"column":3148}},{"source":"core_modules/state_machine.js","original":{"line":295,"column":14},"generated":{"line":1,"column":3150}},{"source":"core_modules/state_machine.js","original":{"line":295,"column":14},"generated":{"line":1,"column":3156}},{"source":"core_modules/state_machine.js","original":{"line":296,"column":14},"generated":{"line":1,"column":3158}},{"source":"core_modules/state_machine.js","original":{"line":296,"column":14},"generated":{"line":1,"column":3164}},{"source":"core_modules/state_machine.js","original":{"line":297,"column":14},"generated":{"line":1,"column":3166}},{"source":"core_modules/state_machine.js","original":{"line":297,"column":14},"generated":{"line":1,"column":3172}},{"source":"core_modules/state_machine.js","original":{"line":298,"column":14},"generated":{"line":1,"column":3174}},{"source":"core_modules/state_machine.js","original":{"line":298,"column":14},"generated":{"line":1,"column":3180}},{"source":"core_modules/state_machine.js","original":{"line":299,"column":14},"generated":{"line":1,"column":3182}},{"source":"core_modules/state_machine.js","original":{"line":299,"column":14},"generated":{"line":1,"column":3188}},{"source":"core_modules/state_machine.js","original":{"line":300,"column":14},"generated":{"line":1,"column":3190}},{"source":"core_modules/state_machine.js","original":{"line":300,"column":14},"generated":{"line":1,"column":3197}},{"source":"core_modules/state_machine.js","original":{"line":301,"column":14},"generated":{"line":1,"column":3199}},{"source":"core_modules/state_machine.js","original":{"line":301,"column":14},"generated":{"line":1,"column":3204}},{"source":"core_modules/state_machine.js","original":{"line":302,"column":14},"generated":{"line":1,"column":3206}},{"source":"core_modules/state_machine.js","original":{"line":302,"column":14},"generated":{"line":1,"column":3210}},{"source":"core_modules/state_machine.js","name":"m","original":{"line":307,"column":4},"generated":{"line":1,"column":3215}},{"source":"core_modules/state_machine.js","name":"Math","original":{"line":307,"column":8},"generated":{"line":1,"column":3217}},{"source":"core_modules/state_machine.js","name":"random","original":{"line":307,"column":13},"generated":{"line":1,"column":3222}},{"source":"core_modules/state_machine.js","name":"count","original":{"line":308,"column":4},"generated":{"line":1,"column":3229}},{"source":"core_modules/state_machine.js","original":{"line":308,"column":12},"generated":{"line":1,"column":3231}},{"source":"core_modules/state_machine.js","original":{"line":309,"column":0},"generated":{"line":1,"column":3233}},{"source":"core_modules/state_machine.js","name":"random_data_obj","original":{"line":309,"column":9},"generated":{"line":1,"column":3242}},{"source":"core_modules/state_machine.js","original":{"line":310,"column":11},"generated":{"line":1,"column":3246}},{"source":"core_modules/state_machine.js","original":{"line":310,"column":11},"generated":{"line":1,"column":3252}},{"source":"core_modules/state_machine.js","name":"m","original":{"line":310,"column":22},"generated":{"line":1,"column":3253}},{"source":"core_modules/state_machine.js","name":"m","original":{"line":310,"column":22},"generated":{"line":1,"column":3259}},{"source":"core_modules/state_machine.js","name":"m","original":{"line":311,"column":15},"generated":{"line":1,"column":3263}},{"source":"core_modules/state_machine.js","name":"m","original":{"line":311,"column":15},"generated":{"line":1,"column":3269}},{"source":"core_modules/state_machine.js","name":"m","original":{"line":312,"column":15},"generated":{"line":1,"column":3273}},{"source":"core_modules/state_machine.js","name":"m","original":{"line":312,"column":15},"generated":{"line":1,"column":3279}},{"source":"core_modules/state_machine.js","name":"m","original":{"line":313,"column":15},"generated":{"line":1,"column":3283}},{"source":"core_modules/state_machine.js","name":"m","original":{"line":313,"column":15},"generated":{"line":1,"column":3289}},{"source":"core_modules/state_machine.js","name":"m","original":{"line":314,"column":15},"generated":{"line":1,"column":3293}},{"source":"core_modules/state_machine.js","name":"m","original":{"line":314,"column":15},"generated":{"line":1,"column":3299}},{"source":"core_modules/state_machine.js","name":"m","original":{"line":315,"column":15},"generated":{"line":1,"column":3303}},{"source":"core_modules/state_machine.js","name":"m","original":{"line":315,"column":15},"generated":{"line":1,"column":3309}},{"source":"core_modules/state_machine.js","name":"count","original":{"line":316,"column":15},"generated":{"line":1,"column":3313}},{"source":"core_modules/state_machine.js","name":"count","original":{"line":316,"column":15},"generated":{"line":1,"column":3320}},{"source":"core_modules/state_machine.js","original":{"line":317,"column":15},"generated":{"line":1,"column":3324}},{"source":"core_modules/state_machine.js","original":{"line":317,"column":15},"generated":{"line":1,"column":3328}}],"sources":{"core_modules/state_machine.js":"//Wed Oct  3 09:42:59 PDT 2018\n// I remembered my development mantra - be patient. simplify. Refactor when necessary \n\nimport {makeLogger} from \"./logger.js\"\nimport ui from \"./ui.js\"\n\n/**\n * \n * \n */\n\nexport default class state_machine {\n\n    /**\n     * \n     * \n     */ \n    constructor(opts) { \n\tvar {buffer_size, gui_mode, debug_mode} = opts\n\tthis.log = makeLogger(\"SM\") \n\tthis.buffer_size = buffer_size \n\tthis.sensor_buffer_size = buffer_size \n\tthis.buffer = Array(buffer_size).fill(default_data_obj)\n\tthis.sensors = {} \n\tthis.transitioners = {} \n\tthis.transitioner_groups = {} \n\tthis.STATE  = {} \n\tthis.gui_mode = gui_mode \n\tthis.debug_mode = debug_mode || false \n\tif (gui_mode) { \n\t    //create the sensor_gui buffer \n\t    this.sensors_gui_buffer = {}\n\t    \n\t    this.ui_mapping = null\n\t    \n\t    //also create a ui object  \n\t    this.ui = new ui(null) \n\t} \n    } \n    \n    \n    /** \n     * Initializes the state machine\n     * @param {Object} state - the initial state for the state machine \n     */\n    initialize(state) { \n\tthis.STATE = state \n    } \n\n\n    /** \n     * Updates buffer with a data object. Uses js function `.shift()` to cycle array. \n     * @param {Object} obj - Data object to consume \n     */\n    update_buffer_with_data_object(obj) { \n\tthis.buffer.push(obj) \n\tthis.buffer.shift() \n    } \n    \n    /*\n     * Computes the order that sensors will be evaluated in \n     */\n    set_sensor_order() { \n\tvar compare = function(x,y) { \n\t    var l1 = x[1].level\n\t    var l2 = y[1].level\n\t    //console.log( [l1, l2] ) \n\t    if (l1 > l2 ) {   //index 2 is the level ! \n\t\treturn 1\n\t    } else  { \n\t\treturn -1\n\t    } \n\t}\n\tthis.sensor_order = util.dict_2_vec(this.sensors).sort(compare).map(e=>e[0])\n    }\n    \n    \n    /** \n     * Adds a sensor to the state machine. \n     * @param {Object} opts - contains id, f (function) , graph (if gui_mode). Graph should be id of the graph that the sensor should be graphed on \n     */\n    add_sensor(opts) { \n\tvar id,f,l\n\tid = opts.id ; f = opts.f ; l = opts.level \n\t//register the sensor \n\tthis.sensors[id] = {} \n  \t//add the function \n\tthis.sensors[id][\"function\"] = f \n\t//and then allocate a buffer for the sensor values \n\tthis.sensors[id][\"buffer\"] = Array(this.sensor_buffer_size).fill(NaN) \n\t//and then allocate the sensor level, 0 if undefined \n\tthis.sensors[id][\"level\"] = l || 0 \n\tif (this.debug_mode) { \n\t    this.log(\"Added sensor: \" + id) \n\t}\n\tthis.set_sensor_order() \n    } \n    \n    /** \n     * \n     * Init gui \n     * @param {Object} ui_mapping - Dictionary where keys are graph ids and vals are vectors of the sensors which could be graphed on that graph. E.g { graph-1 : [\"acc_x\", \"acc_z\" ] , etc} \n     */\n    init_gui(ui_mapping) { \n\tthis.ui_mapping = ui_mapping \n\t//loop through the graphs \n\tfor (var graph in this.ui_mapping )  { \n\t    var sensors = this.ui_mapping[graph] \n\t    this.ui.add_graph(graph, sensors)  // initializes a graph \n\t} \n\t\n\t//after all the graphs have been added then we call init \n\tthis.ui.init() \n\t\n    } \n\n    \n    /** \n     * Runs the sensor function with the state machine buffer as input \n     * then updates the corresponding sensor's buffer.\n     * @param {String} id - Sensor id to run   \n     */\n    run_sensor(id) { \n\t//get the sensor function\n\tvar f = this.sensors[id][\"function\"]\n\t//run the sensor passing in the sm object\n\tvar val = f(this) \n\t\n\t/*\n\t  sensors \n\t  only append the value if it exists \n\t  this allows the ability for sensors to act simultaneously as data filters \n\t  by introspecting on the data_packet somehow and deciding to reject it from \n\t  their buffer. \n\t \n\t*/\n\t\n\tif (val) { \n\t    //append the new value to the sensors buffer \n\t    this.sensors[id][\"buffer\"].push(val)\n\t    this.sensors[id][\"buffer\"].shift() \n\t} \n\t\n\treturn val \n    } \n\n    /** \n     * Utility function for retrieving the last N values of a sensor's buffer\n     * Used to make it easier to write Detectors \n     * @param {String} id - Sensor id \n     * @param {Number} num - The number of values to retrieve from END of buffer \n     */\n    get_sensor_last_N(id,num) { \n\treturn this.sensors[id][\"buffer\"].slice(this.buffer_size - num) \n    }\n\n    /** \n     * Utility function for retrieving the last value of a sensor's buffer\n     * Used to make it easier to write Detectors \n     * @param {String} id - Sensor id \n     */\n    get_sensor_last_1(id) { \n\treturn get_sensor_last_N(id, 1 ) \n    }\n    \n    /** \n     * Adds a transitioner to the state machine. \n     * @param {String} id - Transitioner id for reference \n     * @param {Object} transitioner - Transitioner implementation (Object with keys [detector, applicator]) The detector and applicator both  accept the state_machine object in its entirety in order to allow easy access to all fields. \n     */\n    add_transitioner(id,transitioner) { \n\t//make sure it has what we want \n\tif (! (transitioner.detector && transitioner.applicator ) ) { \n\t    throw \"Transitioner object does not contain both detector and applicator!\" \n\t} \n\t\n \t//register the transitioner\n\tthis.transitioners[id] = transitioner \n\t\n\t//if it is part of a group we register that too , and by default activate it \n\tif (transitioner.group) { \n\t    this.transitioner_groups[transitioner.group] = true \n\t}\n\t\n\tif (this.debug_mode) { \n\t    this.log(\"Added transitioner: \" + id) \n\t}\n\n    }\n    \n    /** \n     * Runs the transitioner \n     * @param {String} id - Transitioner to run \n     */\n    run_transitioner(id) { \n\t//get the transitioner  \n\tvar transitioner = this.transitioners[id] \n\t\n\t//get the group and group status\n\tvar group = transitioner.group\n\tvar group_status = this.transitioner_groups[group]\n\t\n\t//only run if group is NULL or if it exists and is TRUE \n\tif ( group_status != false ) {\n\t    \n\t    //get the detector and applicator \n\t    var detector = transitioner.detector \n\t    var applicator = transitioner.applicator \n\n\t    \n\t    //the detector and applicator both  accept the state_machine object in its entirety in order to allow easy access to all fields \n\t    //apply the applicator IF the detector returns true  \n\t    if (detector(this)) { \n\t\tif (this.debug_mode) { this.log(\":match: => \" + id) }\n\t\tapplicator(this)  // the applciator will actually mutate the this.STATE object  \n\t\t// deactivate this group if it is part of one\n\t\tif (group_status) { \n\t\t    this.transitioner_groups[group] = false \n\t\t} \n\t    } else { \n\t\tif (this.debug_mode) { this.log(\":fail: => \" + id) }\n\t    }\n\t    \n\t}\n\t\n    } \n    \n    \n    \n    /** \n     * Run all sensors. Will sort them by the sensor level \n     */\n    run_sensors() { \n\tfor (var i =0 ; i < this.sensor_order.length; i++ ) { \n\t    var sensor_id = this.sensor_order[i]\n\t    var val = this.run_sensor(sensor_id) \n\t    if (this.gui_mode){ \n\t\tthis.sensors_gui_buffer[sensor_id] = val \n\t    }\n\t}\n\t\n    }\n\n\n    /** \n     * Processes a data object, running one cycle of the state machine. \n     * @param {Object} obj - Data object to process \n     */\n    process_data(obj) { \n\t\n\t//1. update the data buffer  \n\tthis.update_buffer_with_data_object(obj) \n\t\n\t//2. now we need to update all of the sensors \n\tthis.run_sensors() \n\t\n\t//3. now we run all the transitioners (which rely on most up to date Sensor values) \n\tfor (var transitioner_id in this.transitioners ) { \n\t    this.run_transitioner(transitioner_id) \n\t} \n\t\n\t//at this point, this.STATE should be updated , one cycle of the state machine has been completed \n\t//in order to reset, we should return the state of all transition groups \n\tfor (var group in this.transitioner_groups) {\n\t    this.transitioner_groups[group] = true \n\t}\n\t\n\t\n\t// after all this is done we will update the ui \n\t//the sensors_gui_buffer is now full and updated and can be passed to the ui for processing \n\t//pass all the sensor data to the UI for updating \n\tif (this.gui_mode) { \n\t    // also we need to give an X coordinate for the data  \n\t    // for now we will pass the 'time' value of the data obj \n\t    this.ui.handle_sensor_buffer(obj.time,this.sensors_gui_buffer)\n\t}\n\n\t\n    } \n    \n    /** \n     * For debug purposes and profiling. Processes one cycle with a defualt data object\n     */\n    run_debug_cycle() { \n\tthis.process_data(random_data_obj()) \n    } \n    \n\n    \n}\n\n\nvar default_data_obj = { \n    'acc_x' : 0 , \n    'acc_y' : 0 , \n    'acc_z' : 0 , \n    'gyr_x' : 0 , \n    'gyr_y' : 0 , \n    'gyr_z' : 0 , \n    'sample': 0 , \n    'time'  : 0 , \n    'dev'   : \"B\" \n}\n\n\n//for generating random data packets \nvar m = Math.random \nvar count = 0 \nfunction random_data_obj() { \n    return {'acc_x' : m(),\n\t    'acc_y' : m(),\n\t    'acc_z' : m(), \n\t    'gyr_x' : m(), \n\t    'gyr_y' : m(), \n\t    'gyr_z' : m(),\n\t    'sample': count++ , \n\t    'dev'   : \"B\"}\n} \n"},"lineCount":null}},"hash":"1ff5fdbe7d2d1fda91deb2a1707edab8","cacheData":{"env":{}}}