{"id":"VekP","dependencies":[{"name":"/Users/oluwa/dev/webrt_state_machine/package.json","includedInParent":true,"mtime":1540304235496},{"name":"./logger.js","loc":{"line":3,"column":25},"parent":"/Users/oluwa/dev/webrt_state_machine/src/core_modules/data_storage.js","resolved":"/Users/oluwa/dev/webrt_state_machine/src/core_modules/logger.js"},{"name":"../module_resources/utils.js","loc":{"line":4,"column":17},"parent":"/Users/oluwa/dev/webrt_state_machine/src/core_modules/data_storage.js","resolved":"/Users/oluwa/dev/webrt_state_machine/src/module_resources/utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=require(\"./logger.js\"),e=s(require(\"../module_resources/utils.js\"));function s(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function a(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,e,s){return e&&a(t.prototype,e),s&&a(t,s),t}var o=function(){function s(e){i(this,s),this.session_id=e||(new Date).toISOString(),this.data_history=[],this.part_counter=1,this.save_interval_id=null,this.loaded_session=null,this.log=(0,t.makeLogger)(\"DS\"),this.default_handler=function(t){this.log(\"No data handler has been defined!\")},this.data_handler=this.default_handler,this.stream_index=0}return n(s,[{key:\"flush_data\",value:function(){var t=JSON.stringify(this.data_history);name=this.session_id+\"_part\"+this.part_counter.toString(),this.data_history=[],localStorage.setItem(name,t),this.part_counter+=1,this.log(\"Saved data chunk: \"+name)}},{key:\"start_saving\",value:function(t){this.save_interval_id=setInterval(function(){this.flush_data()}.bind(this),1e3*t),this.log(\"Saving started for session: \"+this.session_id)}},{key:\"stop_saving\",value:function(){clearInterval(this.save_interval_id),this.log(\"Saving stopped for session: \"+this.session_id)}},{key:\"process_data\",value:function(t){this.data_history.push(t)}},{key:\"load_session\",value:function(){this.log(\"Loading session...\"),this.loaded_session=d(this.session_id),this.stream_index=0,this.buffer_size=this.loaded_session.length,this.streaming=!1,this.zero_time_axis(),this.diffs=e.default.diff(this.loaded_session.map(function(t){return t.time})),this.log(\"Session loaded: \"+this.session_id)}},{key:\"set_data_handler\",value:function(t){this.data_handler=t}},{key:\"start_stream\",value:function(){this.stream_index=0,this.streaming=!0,this.start_stream_loop()}},{key:\"stream_single_packet\",value:function(){if(this.stream_index<this.buffer_size){var t=this.loaded_session[this.stream_index];return this.data_handler(t),this.stream_index+=1,t}this.stop_stream()}},{key:\"start_stream_loop\",value:function(){if(this.streaming){var t=this.loaded_session[this.stream_index];if(this.data_handler(t),this.stream_index==this.buffer_size-1)this.stop_stream();else{var e=this.diffs[this.stream_index];this.stream_index+=1,setTimeout(function(){this.start_stream_loop()}.bind(this),e)}}}},{key:\"zero_time_axis\",value:function(){if(this.log(\"Zeroing time axis\"),!this.loaded_session.length)throw\"Session must be loaded!\";var t=e.default.first(this.loaded_session).time;this.loaded_session.map(function(e){return e.time=e.time-t,e}),this.log(\"Done\")}},{key:\"stop_stream\",value:function(){this.streaming=!1,this.stream_index=0,this.log(\"Stream finished.\")}},{key:\"to_csv\",value:function(t){this.log(\"Creating csv file for: \"+this.session_id);var e=\"data:text/csv;charset=utf-8,\",s=Object.keys(this.loaded_session[0]).sort();e+=s.join(\",\")+\"\\n\";for(var i=0;i<this.loaded_session.length;i++){var a=this.loaded_session[i];if(\"B\"==a.dev){for(var n=[],o=0;o<s.length;o++){var r=s[o];a[r];n.push(a[r])}e+=n.join(\",\")+\"\\n\"}}var d=encodeURI(e),h=document.createElement(\"a\");h.setAttribute(\"href\",d),h.setAttribute(\"download\",(t||this.session_id)+\".csv\"),h.click()}}]),s}();function r(t){return Object.keys(localStorage).filter(function(e){return e.includes(t)}).sort()}function d(t){var e=r(t);return tmp=e.map(function(t){return JSON.parse(localStorage.getItem(t))}),[].concat.apply([],tmp)}exports.default=o;","map":{"mappings":[{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":0}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":13}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":20}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":35}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":43}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":56}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":57}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":64}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":68}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":76}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":89}},{"source":"src/core_modules/data_storage.js","original":{"line":3,"column":0},"generated":{"line":1,"column":91}},{"source":"src/core_modules/data_storage.js","original":{"line":3,"column":0},"generated":{"line":1,"column":95}},{"source":"src/core_modules/data_storage.js","original":{"line":3,"column":0},"generated":{"line":1,"column":97}},{"source":"src/core_modules/data_storage.js","original":{"line":3,"column":0},"generated":{"line":1,"column":105}},{"source":"src/core_modules/data_storage.js","original":{"line":4,"column":0},"generated":{"line":1,"column":120}},{"source":"src/core_modules/data_storage.js","original":{"line":4,"column":0},"generated":{"line":1,"column":122}},{"source":"src/core_modules/data_storage.js","original":{"line":4,"column":0},"generated":{"line":1,"column":124}},{"source":"src/core_modules/data_storage.js","original":{"line":4,"column":0},"generated":{"line":1,"column":132}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":165}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":174}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":176}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":179}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":186}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":189}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":191}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":202}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":204}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":205}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":213}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":216}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":225}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":227}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":229}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":232}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":237}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":250}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":253}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":259}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":263}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":273}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":310}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":319}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":321}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":323}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":326}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":330}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":334}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":336}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":338}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":340}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":342}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":349}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":353}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":354}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":358}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":360}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":362}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":365}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":367}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":378}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":380}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":393}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":395}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":397}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":411}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":413}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":423}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":427}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":429}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":439}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":442}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":449}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":464}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":466}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":468}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":472}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":476}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":485}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":487}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":489}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":491}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":494}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":501}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":504}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":506}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":508}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":518}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":521}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":524}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":526}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":528}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":531}},{"source":"src/core_modules/data_storage.js","name":"data_storage","original":{"line":11,"column":21},"generated":{"line":1,"column":533}},{"source":"src/core_modules/data_storage.js","name":"data_storage","original":{"line":11,"column":21},"generated":{"line":1,"column":537}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":539}},{"source":"src/core_modules/data_storage.js","name":"name","original":{"line":17,"column":16},"generated":{"line":1,"column":550}},{"source":"src/core_modules/data_storage.js","name":"name","original":{"line":17,"column":16},"generated":{"line":1,"column":559}},{"source":"src/core_modules/data_storage.js","name":"name","original":{"line":17,"column":16},"generated":{"line":1,"column":561}},{"source":"src/core_modules/data_storage.js","original":{"line":17,"column":22},"generated":{"line":1,"column":564}},{"source":"src/core_modules/data_storage.js","original":{"line":17,"column":22},"generated":{"line":1,"column":566}},{"source":"src/core_modules/data_storage.js","original":{"line":17,"column":22},"generated":{"line":1,"column":571}},{"source":"src/core_modules/data_storage.js","name":"session_id","original":{"line":18,"column":6},"generated":{"line":1,"column":574}},{"source":"src/core_modules/data_storage.js","name":"session_id","original":{"line":18,"column":6},"generated":{"line":1,"column":579}},{"source":"src/core_modules/data_storage.js","name":"name","original":{"line":18,"column":19},"generated":{"line":1,"column":590}},{"source":"src/core_modules/data_storage.js","original":{"line":18,"column":28},"generated":{"line":1,"column":594}},{"source":"src/core_modules/data_storage.js","name":"Date","original":{"line":18,"column":32},"generated":{"line":1,"column":598}},{"source":"src/core_modules/data_storage.js","name":"toISOString","original":{"line":18,"column":40},"generated":{"line":1,"column":604}},{"source":"src/core_modules/data_storage.js","name":"data_history","original":{"line":19,"column":6},"generated":{"line":1,"column":618}},{"source":"src/core_modules/data_storage.js","name":"data_history","original":{"line":19,"column":6},"generated":{"line":1,"column":623}},{"source":"src/core_modules/data_storage.js","original":{"line":19,"column":21},"generated":{"line":1,"column":636}},{"source":"src/core_modules/data_storage.js","name":"part_counter","original":{"line":20,"column":6},"generated":{"line":1,"column":639}},{"source":"src/core_modules/data_storage.js","name":"part_counter","original":{"line":20,"column":6},"generated":{"line":1,"column":644}},{"source":"src/core_modules/data_storage.js","original":{"line":20,"column":21},"generated":{"line":1,"column":657}},{"source":"src/core_modules/data_storage.js","name":"save_interval_id","original":{"line":21,"column":6},"generated":{"line":1,"column":659}},{"source":"src/core_modules/data_storage.js","name":"save_interval_id","original":{"line":21,"column":6},"generated":{"line":1,"column":664}},{"source":"src/core_modules/data_storage.js","original":{"line":21,"column":25},"generated":{"line":1,"column":681}},{"source":"src/core_modules/data_storage.js","name":"loaded_session","original":{"line":22,"column":6},"generated":{"line":1,"column":686}},{"source":"src/core_modules/data_storage.js","name":"loaded_session","original":{"line":22,"column":6},"generated":{"line":1,"column":691}},{"source":"src/core_modules/data_storage.js","original":{"line":22,"column":23},"generated":{"line":1,"column":706}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":24,"column":6},"generated":{"line":1,"column":711}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":24,"column":6},"generated":{"line":1,"column":716}},{"source":"src/core_modules/data_storage.js","original":{"line":24,"column":12},"generated":{"line":1,"column":721}},{"source":"src/core_modules/data_storage.js","original":{"line":24,"column":23},"generated":{"line":1,"column":723}},{"source":"src/core_modules/data_storage.js","original":{"line":24,"column":23},"generated":{"line":1,"column":725}},{"source":"src/core_modules/data_storage.js","original":{"line":24,"column":23},"generated":{"line":1,"column":737}},{"source":"src/core_modules/data_storage.js","name":"default_handler","original":{"line":25,"column":6},"generated":{"line":1,"column":743}},{"source":"src/core_modules/data_storage.js","name":"default_handler","original":{"line":25,"column":6},"generated":{"line":1,"column":748}},{"source":"src/core_modules/data_storage.js","original":{"line":25,"column":24},"generated":{"line":1,"column":764}},{"source":"src/core_modules/data_storage.js","name":"data","original":{"line":25,"column":33},"generated":{"line":1,"column":773}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":26,"column":10},"generated":{"line":1,"column":776}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":26,"column":10},"generated":{"line":1,"column":781}},{"source":"src/core_modules/data_storage.js","original":{"line":26,"column":14},"generated":{"line":1,"column":785}},{"source":"src/core_modules/data_storage.js","name":"data_handler","original":{"line":28,"column":6},"generated":{"line":1,"column":823}},{"source":"src/core_modules/data_storage.js","name":"data_handler","original":{"line":28,"column":6},"generated":{"line":1,"column":828}},{"source":"src/core_modules/data_storage.js","original":{"line":28,"column":21},"generated":{"line":1,"column":841}},{"source":"src/core_modules/data_storage.js","name":"default_handler","original":{"line":28,"column":26},"generated":{"line":1,"column":846}},{"source":"src/core_modules/data_storage.js","name":"stream_index","original":{"line":29,"column":6},"generated":{"line":1,"column":862}},{"source":"src/core_modules/data_storage.js","name":"stream_index","original":{"line":29,"column":6},"generated":{"line":1,"column":867}},{"source":"src/core_modules/data_storage.js","original":{"line":29,"column":21},"generated":{"line":1,"column":880}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":882}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":889}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":891}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":893}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":894}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":895}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":899}},{"source":"src/core_modules/data_storage.js","original":{"line":35,"column":17},"generated":{"line":1,"column":912}},{"source":"src/core_modules/data_storage.js","original":{"line":35,"column":17},"generated":{"line":1,"column":918}},{"source":"src/core_modules/data_storage.js","name":"to_save","original":{"line":36,"column":5},"generated":{"line":1,"column":929}},{"source":"src/core_modules/data_storage.js","name":"to_save","original":{"line":36,"column":5},"generated":{"line":1,"column":933}},{"source":"src/core_modules/data_storage.js","name":"JSON","original":{"line":36,"column":15},"generated":{"line":1,"column":935}},{"source":"src/core_modules/data_storage.js","name":"stringify","original":{"line":36,"column":20},"generated":{"line":1,"column":940}},{"source":"src/core_modules/data_storage.js","original":{"line":36,"column":30},"generated":{"line":1,"column":950}},{"source":"src/core_modules/data_storage.js","name":"data_history","original":{"line":36,"column":35},"generated":{"line":1,"column":955}},{"source":"src/core_modules/data_storage.js","name":"name","original":{"line":37,"column":1},"generated":{"line":1,"column":969}},{"source":"src/core_modules/data_storage.js","original":{"line":37,"column":11},"generated":{"line":1,"column":974}},{"source":"src/core_modules/data_storage.js","name":"session_id","original":{"line":37,"column":16},"generated":{"line":1,"column":979}},{"source":"src/core_modules/data_storage.js","original":{"line":37,"column":29},"generated":{"line":1,"column":990}},{"source":"src/core_modules/data_storage.js","original":{"line":37,"column":39},"generated":{"line":1,"column":998}},{"source":"src/core_modules/data_storage.js","name":"part_counter","original":{"line":37,"column":44},"generated":{"line":1,"column":1003}},{"source":"src/core_modules/data_storage.js","name":"toString","original":{"line":37,"column":57},"generated":{"line":1,"column":1016}},{"source":"src/core_modules/data_storage.js","name":"data_history","original":{"line":38,"column":6},"generated":{"line":1,"column":1027}},{"source":"src/core_modules/data_storage.js","name":"data_history","original":{"line":38,"column":6},"generated":{"line":1,"column":1032}},{"source":"src/core_modules/data_storage.js","original":{"line":38,"column":21},"generated":{"line":1,"column":1045}},{"source":"src/core_modules/data_storage.js","name":"localStorage","original":{"line":39,"column":1},"generated":{"line":1,"column":1048}},{"source":"src/core_modules/data_storage.js","name":"setItem","original":{"line":39,"column":14},"generated":{"line":1,"column":1061}},{"source":"src/core_modules/data_storage.js","name":"name","original":{"line":39,"column":22},"generated":{"line":1,"column":1069}},{"source":"src/core_modules/data_storage.js","name":"to_save","original":{"line":39,"column":28},"generated":{"line":1,"column":1074}},{"source":"src/core_modules/data_storage.js","name":"part_counter","original":{"line":40,"column":6},"generated":{"line":1,"column":1077}},{"source":"src/core_modules/data_storage.js","name":"part_counter","original":{"line":40,"column":6},"generated":{"line":1,"column":1082}},{"source":"src/core_modules/data_storage.js","original":{"line":40,"column":22},"generated":{"line":1,"column":1096}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":41,"column":6},"generated":{"line":1,"column":1098}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":41,"column":6},"generated":{"line":1,"column":1103}},{"source":"src/core_modules/data_storage.js","original":{"line":41,"column":10},"generated":{"line":1,"column":1107}},{"source":"src/core_modules/data_storage.js","name":"name","original":{"line":41,"column":33},"generated":{"line":1,"column":1128}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":1136}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":1137}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":1141}},{"source":"src/core_modules/data_storage.js","name":"rate","original":{"line":48,"column":17},"generated":{"line":1,"column":1156}},{"source":"src/core_modules/data_storage.js","name":"rate","original":{"line":48,"column":17},"generated":{"line":1,"column":1162}},{"source":"src/core_modules/data_storage.js","name":"rate","original":{"line":48,"column":17},"generated":{"line":1,"column":1171}},{"source":"src/core_modules/data_storage.js","name":"save_interval_id","original":{"line":49,"column":6},"generated":{"line":1,"column":1174}},{"source":"src/core_modules/data_storage.js","name":"save_interval_id","original":{"line":49,"column":6},"generated":{"line":1,"column":1179}},{"source":"src/core_modules/data_storage.js","name":"setInterval","original":{"line":49,"column":25},"generated":{"line":1,"column":1196}},{"source":"src/core_modules/data_storage.js","original":{"line":49,"column":40},"generated":{"line":1,"column":1208}},{"source":"src/core_modules/data_storage.js","name":"flush_data","original":{"line":49,"column":56},"generated":{"line":1,"column":1219}},{"source":"src/core_modules/data_storage.js","name":"flush_data","original":{"line":49,"column":56},"generated":{"line":1,"column":1224}},{"source":"src/core_modules/data_storage.js","name":"bind","original":{"line":49,"column":71},"generated":{"line":1,"column":1238}},{"source":"src/core_modules/data_storage.js","original":{"line":49,"column":76},"generated":{"line":1,"column":1243}},{"source":"src/core_modules/data_storage.js","original":{"line":49,"column":89},"generated":{"line":1,"column":1249}},{"source":"src/core_modules/data_storage.js","name":"rate","original":{"line":49,"column":84},"generated":{"line":1,"column":1253}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":50,"column":6},"generated":{"line":1,"column":1256}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":50,"column":6},"generated":{"line":1,"column":1261}},{"source":"src/core_modules/data_storage.js","original":{"line":50,"column":10},"generated":{"line":1,"column":1265}},{"source":"src/core_modules/data_storage.js","original":{"line":50,"column":43},"generated":{"line":1,"column":1296}},{"source":"src/core_modules/data_storage.js","name":"session_id","original":{"line":50,"column":48},"generated":{"line":1,"column":1301}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":1315}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":1316}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":1320}},{"source":"src/core_modules/data_storage.js","original":{"line":56,"column":18},"generated":{"line":1,"column":1334}},{"source":"src/core_modules/data_storage.js","original":{"line":56,"column":18},"generated":{"line":1,"column":1340}},{"source":"src/core_modules/data_storage.js","name":"clearInterval","original":{"line":57,"column":1},"generated":{"line":1,"column":1351}},{"source":"src/core_modules/data_storage.js","original":{"line":57,"column":15},"generated":{"line":1,"column":1365}},{"source":"src/core_modules/data_storage.js","name":"save_interval_id","original":{"line":57,"column":20},"generated":{"line":1,"column":1370}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":58,"column":6},"generated":{"line":1,"column":1388}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":58,"column":6},"generated":{"line":1,"column":1393}},{"source":"src/core_modules/data_storage.js","original":{"line":58,"column":10},"generated":{"line":1,"column":1397}},{"source":"src/core_modules/data_storage.js","original":{"line":58,"column":43},"generated":{"line":1,"column":1428}},{"source":"src/core_modules/data_storage.js","name":"session_id","original":{"line":58,"column":48},"generated":{"line":1,"column":1433}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":1447}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":1448}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":1452}},{"source":"src/core_modules/data_storage.js","name":"obj","original":{"line":65,"column":17},"generated":{"line":1,"column":1467}},{"source":"src/core_modules/data_storage.js","name":"obj","original":{"line":65,"column":17},"generated":{"line":1,"column":1473}},{"source":"src/core_modules/data_storage.js","name":"obj","original":{"line":65,"column":17},"generated":{"line":1,"column":1482}},{"source":"src/core_modules/data_storage.js","name":"data_history","original":{"line":66,"column":6},"generated":{"line":1,"column":1485}},{"source":"src/core_modules/data_storage.js","name":"data_history","original":{"line":66,"column":6},"generated":{"line":1,"column":1490}},{"source":"src/core_modules/data_storage.js","name":"push","original":{"line":66,"column":19},"generated":{"line":1,"column":1503}},{"source":"src/core_modules/data_storage.js","name":"obj","original":{"line":66,"column":24},"generated":{"line":1,"column":1508}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":1513}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":1514}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":1518}},{"source":"src/core_modules/data_storage.js","original":{"line":72,"column":19},"generated":{"line":1,"column":1533}},{"source":"src/core_modules/data_storage.js","original":{"line":72,"column":19},"generated":{"line":1,"column":1539}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":73,"column":6},"generated":{"line":1,"column":1550}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":73,"column":6},"generated":{"line":1,"column":1555}},{"source":"src/core_modules/data_storage.js","original":{"line":73,"column":10},"generated":{"line":1,"column":1559}},{"source":"src/core_modules/data_storage.js","name":"loaded_session","original":{"line":74,"column":6},"generated":{"line":1,"column":1581}},{"source":"src/core_modules/data_storage.js","name":"loaded_session","original":{"line":74,"column":6},"generated":{"line":1,"column":1586}},{"source":"src/core_modules/data_storage.js","name":"get_session","original":{"line":74,"column":23},"generated":{"line":1,"column":1601}},{"source":"src/core_modules/data_storage.js","original":{"line":74,"column":35},"generated":{"line":1,"column":1603}},{"source":"src/core_modules/data_storage.js","name":"session_id","original":{"line":74,"column":40},"generated":{"line":1,"column":1608}},{"source":"src/core_modules/data_storage.js","name":"stream_index","original":{"line":75,"column":6},"generated":{"line":1,"column":1620}},{"source":"src/core_modules/data_storage.js","name":"stream_index","original":{"line":75,"column":6},"generated":{"line":1,"column":1625}},{"source":"src/core_modules/data_storage.js","original":{"line":75,"column":21},"generated":{"line":1,"column":1638}},{"source":"src/core_modules/data_storage.js","name":"buffer_size","original":{"line":76,"column":6},"generated":{"line":1,"column":1640}},{"source":"src/core_modules/data_storage.js","name":"buffer_size","original":{"line":76,"column":6},"generated":{"line":1,"column":1645}},{"source":"src/core_modules/data_storage.js","original":{"line":76,"column":20},"generated":{"line":1,"column":1657}},{"source":"src/core_modules/data_storage.js","name":"loaded_session","original":{"line":76,"column":25},"generated":{"line":1,"column":1662}},{"source":"src/core_modules/data_storage.js","name":"length","original":{"line":76,"column":40},"generated":{"line":1,"column":1677}},{"source":"src/core_modules/data_storage.js","name":"streaming","original":{"line":77,"column":6},"generated":{"line":1,"column":1684}},{"source":"src/core_modules/data_storage.js","name":"streaming","original":{"line":77,"column":6},"generated":{"line":1,"column":1689}},{"source":"src/core_modules/data_storage.js","original":{"line":77,"column":18},"generated":{"line":1,"column":1700}},{"source":"src/core_modules/data_storage.js","name":"zero_time_axis","original":{"line":78,"column":6},"generated":{"line":1,"column":1702}},{"source":"src/core_modules/data_storage.js","name":"zero_time_axis","original":{"line":78,"column":6},"generated":{"line":1,"column":1707}},{"source":"src/core_modules/data_storage.js","name":"diffs","original":{"line":79,"column":6},"generated":{"line":1,"column":1724}},{"source":"src/core_modules/data_storage.js","name":"diffs","original":{"line":79,"column":6},"generated":{"line":1,"column":1729}},{"source":"src/core_modules/data_storage.js","name":"util","original":{"line":79,"column":14},"generated":{"line":1,"column":1735}},{"source":"src/core_modules/data_storage.js","name":"diff","original":{"line":79,"column":19},"generated":{"line":1,"column":1737}},{"source":"src/core_modules/data_storage.js","name":"diff","original":{"line":79,"column":19},"generated":{"line":1,"column":1745}},{"source":"src/core_modules/data_storage.js","original":{"line":79,"column":25},"generated":{"line":1,"column":1750}},{"source":"src/core_modules/data_storage.js","name":"loaded_session","original":{"line":79,"column":30},"generated":{"line":1,"column":1755}},{"source":"src/core_modules/data_storage.js","name":"map","original":{"line":79,"column":45},"generated":{"line":1,"column":1770}},{"source":"src/core_modules/data_storage.js","original":{"line":79,"column":50},"generated":{"line":1,"column":1774}},{"source":"src/core_modules/data_storage.js","name":"d","original":{"line":79,"column":50},"generated":{"line":1,"column":1783}},{"source":"src/core_modules/data_storage.js","name":"d","original":{"line":79,"column":55},"generated":{"line":1,"column":1786}},{"source":"src/core_modules/data_storage.js","name":"d","original":{"line":79,"column":55},"generated":{"line":1,"column":1793}},{"source":"src/core_modules/data_storage.js","original":{"line":79,"column":56},"generated":{"line":1,"column":1795}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":80,"column":6},"generated":{"line":1,"column":1803}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":80,"column":6},"generated":{"line":1,"column":1808}},{"source":"src/core_modules/data_storage.js","original":{"line":80,"column":10},"generated":{"line":1,"column":1812}},{"source":"src/core_modules/data_storage.js","original":{"line":80,"column":31},"generated":{"line":1,"column":1831}},{"source":"src/core_modules/data_storage.js","name":"session_id","original":{"line":80,"column":36},"generated":{"line":1,"column":1836}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":1850}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":1851}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":1855}},{"source":"src/core_modules/data_storage.js","name":"f","original":{"line":88,"column":21},"generated":{"line":1,"column":1874}},{"source":"src/core_modules/data_storage.js","name":"f","original":{"line":88,"column":21},"generated":{"line":1,"column":1880}},{"source":"src/core_modules/data_storage.js","name":"f","original":{"line":88,"column":21},"generated":{"line":1,"column":1889}},{"source":"src/core_modules/data_storage.js","name":"data_handler","original":{"line":89,"column":6},"generated":{"line":1,"column":1892}},{"source":"src/core_modules/data_storage.js","name":"data_handler","original":{"line":89,"column":6},"generated":{"line":1,"column":1897}},{"source":"src/core_modules/data_storage.js","name":"f","original":{"line":89,"column":21},"generated":{"line":1,"column":1910}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":1914}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":1915}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":1919}},{"source":"src/core_modules/data_storage.js","original":{"line":95,"column":19},"generated":{"line":1,"column":1934}},{"source":"src/core_modules/data_storage.js","original":{"line":95,"column":19},"generated":{"line":1,"column":1940}},{"source":"src/core_modules/data_storage.js","name":"stream_index","original":{"line":96,"column":6},"generated":{"line":1,"column":1951}},{"source":"src/core_modules/data_storage.js","name":"stream_index","original":{"line":96,"column":6},"generated":{"line":1,"column":1956}},{"source":"src/core_modules/data_storage.js","original":{"line":96,"column":22},"generated":{"line":1,"column":1969}},{"source":"src/core_modules/data_storage.js","name":"streaming","original":{"line":97,"column":6},"generated":{"line":1,"column":1971}},{"source":"src/core_modules/data_storage.js","name":"streaming","original":{"line":97,"column":6},"generated":{"line":1,"column":1976}},{"source":"src/core_modules/data_storage.js","original":{"line":97,"column":18},"generated":{"line":1,"column":1987}},{"source":"src/core_modules/data_storage.js","name":"start_stream_loop","original":{"line":98,"column":6},"generated":{"line":1,"column":1989}},{"source":"src/core_modules/data_storage.js","name":"start_stream_loop","original":{"line":98,"column":6},"generated":{"line":1,"column":1994}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":2016}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":2017}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":2021}},{"source":"src/core_modules/data_storage.js","original":{"line":104,"column":27},"generated":{"line":1,"column":2044}},{"source":"src/core_modules/data_storage.js","original":{"line":104,"column":27},"generated":{"line":1,"column":2050}},{"source":"src/core_modules/data_storage.js","original":{"line":105,"column":5},"generated":{"line":1,"column":2061}},{"source":"src/core_modules/data_storage.js","original":{"line":105,"column":5},"generated":{"line":1,"column":2064}},{"source":"src/core_modules/data_storage.js","name":"stream_index","original":{"line":105,"column":10},"generated":{"line":1,"column":2069}},{"source":"src/core_modules/data_storage.js","original":{"line":105,"column":25},"generated":{"line":1,"column":2082}},{"source":"src/core_modules/data_storage.js","name":"buffer_size","original":{"line":105,"column":30},"generated":{"line":1,"column":2087}},{"source":"src/core_modules/data_storage.js","original":{"line":105,"column":45},"generated":{"line":1,"column":2099}},{"source":"src/core_modules/data_storage.js","name":"val","original":{"line":107,"column":9},"generated":{"line":1,"column":2100}},{"source":"src/core_modules/data_storage.js","name":"val","original":{"line":107,"column":9},"generated":{"line":1,"column":2104}},{"source":"src/core_modules/data_storage.js","original":{"line":107,"column":15},"generated":{"line":1,"column":2106}},{"source":"src/core_modules/data_storage.js","name":"loaded_session","original":{"line":107,"column":20},"generated":{"line":1,"column":2111}},{"source":"src/core_modules/data_storage.js","original":{"line":107,"column":35},"generated":{"line":1,"column":2126}},{"source":"src/core_modules/data_storage.js","name":"stream_index","original":{"line":107,"column":40},"generated":{"line":1,"column":2131}},{"source":"src/core_modules/data_storage.js","name":"val","original":{"line":112,"column":12},"generated":{"line":1,"column":2145}},{"source":"src/core_modules/data_storage.js","name":"data_handler","original":{"line":109,"column":10},"generated":{"line":1,"column":2152}},{"source":"src/core_modules/data_storage.js","name":"data_handler","original":{"line":109,"column":10},"generated":{"line":1,"column":2157}},{"source":"src/core_modules/data_storage.js","name":"val","original":{"line":109,"column":23},"generated":{"line":1,"column":2170}},{"source":"src/core_modules/data_storage.js","name":"stream_index","original":{"line":111,"column":10},"generated":{"line":1,"column":2173}},{"source":"src/core_modules/data_storage.js","name":"stream_index","original":{"line":111,"column":10},"generated":{"line":1,"column":2178}},{"source":"src/core_modules/data_storage.js","original":{"line":111,"column":26},"generated":{"line":1,"column":2192}},{"source":"src/core_modules/data_storage.js","name":"val","original":{"line":112,"column":12},"generated":{"line":1,"column":2194}},{"source":"src/core_modules/data_storage.js","name":"stop_stream","original":{"line":114,"column":10},"generated":{"line":1,"column":2196}},{"source":"src/core_modules/data_storage.js","name":"stop_stream","original":{"line":114,"column":10},"generated":{"line":1,"column":2201}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":2217}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":2218}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":2222}},{"source":"src/core_modules/data_storage.js","original":{"line":124,"column":24},"generated":{"line":1,"column":2242}},{"source":"src/core_modules/data_storage.js","original":{"line":124,"column":24},"generated":{"line":1,"column":2248}},{"source":"src/core_modules/data_storage.js","original":{"line":126,"column":5},"generated":{"line":1,"column":2259}},{"source":"src/core_modules/data_storage.js","original":{"line":126,"column":5},"generated":{"line":1,"column":2262}},{"source":"src/core_modules/data_storage.js","name":"streaming","original":{"line":126,"column":10},"generated":{"line":1,"column":2267}},{"source":"src/core_modules/data_storage.js","original":{"line":126,"column":21},"generated":{"line":1,"column":2277}},{"source":"src/core_modules/data_storage.js","name":"val","original":{"line":128,"column":9},"generated":{"line":1,"column":2278}},{"source":"src/core_modules/data_storage.js","name":"val","original":{"line":128,"column":9},"generated":{"line":1,"column":2282}},{"source":"src/core_modules/data_storage.js","original":{"line":128,"column":15},"generated":{"line":1,"column":2284}},{"source":"src/core_modules/data_storage.js","name":"loaded_session","original":{"line":128,"column":20},"generated":{"line":1,"column":2289}},{"source":"src/core_modules/data_storage.js","original":{"line":128,"column":35},"generated":{"line":1,"column":2304}},{"source":"src/core_modules/data_storage.js","name":"stream_index","original":{"line":128,"column":40},"generated":{"line":1,"column":2309}},{"source":"src/core_modules/data_storage.js","original":{"line":132,"column":9},"generated":{"line":1,"column":2323}},{"source":"src/core_modules/data_storage.js","name":"data_handler","original":{"line":130,"column":10},"generated":{"line":1,"column":2326}},{"source":"src/core_modules/data_storage.js","name":"data_handler","original":{"line":130,"column":10},"generated":{"line":1,"column":2331}},{"source":"src/core_modules/data_storage.js","name":"val","original":{"line":130,"column":23},"generated":{"line":1,"column":2344}},{"source":"src/core_modules/data_storage.js","original":{"line":132,"column":9},"generated":{"line":1,"column":2347}},{"source":"src/core_modules/data_storage.js","name":"stream_index","original":{"line":132,"column":14},"generated":{"line":1,"column":2352}},{"source":"src/core_modules/data_storage.js","original":{"line":132,"column":30},"generated":{"line":1,"column":2366}},{"source":"src/core_modules/data_storage.js","name":"buffer_size","original":{"line":132,"column":35},"generated":{"line":1,"column":2371}},{"source":"src/core_modules/data_storage.js","original":{"line":132,"column":49},"generated":{"line":1,"column":2383}},{"source":"src/core_modules/data_storage.js","name":"stop_stream","original":{"line":136,"column":7},"generated":{"line":1,"column":2385}},{"source":"src/core_modules/data_storage.js","name":"stop_stream","original":{"line":136,"column":7},"generated":{"line":1,"column":2390}},{"source":"src/core_modules/data_storage.js","original":{"line":138,"column":12},"generated":{"line":1,"column":2408}},{"source":"src/core_modules/data_storage.js","name":"delay","original":{"line":141,"column":6},"generated":{"line":1,"column":2409}},{"source":"src/core_modules/data_storage.js","name":"delay","original":{"line":141,"column":6},"generated":{"line":1,"column":2413}},{"source":"src/core_modules/data_storage.js","original":{"line":141,"column":14},"generated":{"line":1,"column":2415}},{"source":"src/core_modules/data_storage.js","name":"diffs","original":{"line":141,"column":19},"generated":{"line":1,"column":2420}},{"source":"src/core_modules/data_storage.js","original":{"line":141,"column":25},"generated":{"line":1,"column":2426}},{"source":"src/core_modules/data_storage.js","name":"stream_index","original":{"line":141,"column":30},"generated":{"line":1,"column":2431}},{"source":"src/core_modules/data_storage.js","name":"stream_index","original":{"line":143,"column":7},"generated":{"line":1,"column":2445}},{"source":"src/core_modules/data_storage.js","name":"stream_index","original":{"line":143,"column":7},"generated":{"line":1,"column":2450}},{"source":"src/core_modules/data_storage.js","original":{"line":143,"column":23},"generated":{"line":1,"column":2464}},{"source":"src/core_modules/data_storage.js","name":"setTimeout","original":{"line":145,"column":2},"generated":{"line":1,"column":2466}},{"source":"src/core_modules/data_storage.js","original":{"line":145,"column":15},"generated":{"line":1,"column":2477}},{"source":"src/core_modules/data_storage.js","name":"start_stream_loop","original":{"line":145,"column":32},"generated":{"line":1,"column":2488}},{"source":"src/core_modules/data_storage.js","name":"start_stream_loop","original":{"line":145,"column":32},"generated":{"line":1,"column":2493}},{"source":"src/core_modules/data_storage.js","name":"bind","original":{"line":145,"column":54},"generated":{"line":1,"column":2514}},{"source":"src/core_modules/data_storage.js","original":{"line":145,"column":59},"generated":{"line":1,"column":2519}},{"source":"src/core_modules/data_storage.js","name":"delay","original":{"line":145,"column":67},"generated":{"line":1,"column":2525}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":2532}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":2533}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":2537}},{"source":"src/core_modules/data_storage.js","original":{"line":156,"column":21},"generated":{"line":1,"column":2554}},{"source":"src/core_modules/data_storage.js","original":{"line":156,"column":21},"generated":{"line":1,"column":2560}},{"source":"src/core_modules/data_storage.js","original":{"line":158,"column":5},"generated":{"line":1,"column":2571}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":157,"column":6},"generated":{"line":1,"column":2574}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":157,"column":6},"generated":{"line":1,"column":2579}},{"source":"src/core_modules/data_storage.js","original":{"line":157,"column":10},"generated":{"line":1,"column":2583}},{"source":"src/core_modules/data_storage.js","original":{"line":158,"column":6},"generated":{"line":1,"column":2605}},{"source":"src/core_modules/data_storage.js","name":"loaded_session","original":{"line":158,"column":11},"generated":{"line":1,"column":2610}},{"source":"src/core_modules/data_storage.js","name":"length","original":{"line":158,"column":26},"generated":{"line":1,"column":2625}},{"source":"src/core_modules/data_storage.js","original":{"line":159,"column":11},"generated":{"line":1,"column":2632}},{"source":"src/core_modules/data_storage.js","original":{"line":159,"column":11},"generated":{"line":1,"column":2637}},{"source":"src/core_modules/data_storage.js","name":"t_1","original":{"line":162,"column":9},"generated":{"line":1,"column":2663}},{"source":"src/core_modules/data_storage.js","name":"t_1","original":{"line":162,"column":9},"generated":{"line":1,"column":2667}},{"source":"src/core_modules/data_storage.js","name":"util","original":{"line":162,"column":16},"generated":{"line":1,"column":2669}},{"source":"src/core_modules/data_storage.js","name":"first","original":{"line":162,"column":21},"generated":{"line":1,"column":2671}},{"source":"src/core_modules/data_storage.js","name":"first","original":{"line":162,"column":21},"generated":{"line":1,"column":2679}},{"source":"src/core_modules/data_storage.js","original":{"line":162,"column":27},"generated":{"line":1,"column":2685}},{"source":"src/core_modules/data_storage.js","name":"loaded_session","original":{"line":162,"column":32},"generated":{"line":1,"column":2690}},{"source":"src/core_modules/data_storage.js","original":{"line":162,"column":16},"generated":{"line":1,"column":2706}},{"source":"src/core_modules/data_storage.js","name":"loaded_session","original":{"line":164,"column":10},"generated":{"line":1,"column":2711}},{"source":"src/core_modules/data_storage.js","name":"loaded_session","original":{"line":164,"column":10},"generated":{"line":1,"column":2716}},{"source":"src/core_modules/data_storage.js","name":"map","original":{"line":164,"column":25},"generated":{"line":1,"column":2731}},{"source":"src/core_modules/data_storage.js","original":{"line":164,"column":30},"generated":{"line":1,"column":2735}},{"source":"src/core_modules/data_storage.js","name":"d","original":{"line":164,"column":39},"generated":{"line":1,"column":2744}},{"source":"src/core_modules/data_storage.js","name":"d","original":{"line":166,"column":9},"generated":{"line":1,"column":2747}},{"source":"src/core_modules/data_storage.js","name":"d","original":{"line":165,"column":2},"generated":{"line":1,"column":2754}},{"source":"src/core_modules/data_storage.js","original":{"line":165,"column":3},"generated":{"line":1,"column":2756}},{"source":"src/core_modules/data_storage.js","name":"d","original":{"line":165,"column":14},"generated":{"line":1,"column":2761}},{"source":"src/core_modules/data_storage.js","original":{"line":165,"column":15},"generated":{"line":1,"column":2763}},{"source":"src/core_modules/data_storage.js","name":"t_1","original":{"line":165,"column":26},"generated":{"line":1,"column":2768}},{"source":"src/core_modules/data_storage.js","name":"d","original":{"line":166,"column":9},"generated":{"line":1,"column":2770}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":168,"column":10},"generated":{"line":1,"column":2774}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":168,"column":10},"generated":{"line":1,"column":2779}},{"source":"src/core_modules/data_storage.js","original":{"line":168,"column":14},"generated":{"line":1,"column":2783}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":2793}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":2794}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":2798}},{"source":"src/core_modules/data_storage.js","original":{"line":178,"column":18},"generated":{"line":1,"column":2812}},{"source":"src/core_modules/data_storage.js","original":{"line":178,"column":18},"generated":{"line":1,"column":2818}},{"source":"src/core_modules/data_storage.js","name":"streaming","original":{"line":179,"column":6},"generated":{"line":1,"column":2829}},{"source":"src/core_modules/data_storage.js","name":"streaming","original":{"line":179,"column":6},"generated":{"line":1,"column":2834}},{"source":"src/core_modules/data_storage.js","original":{"line":179,"column":18},"generated":{"line":1,"column":2845}},{"source":"src/core_modules/data_storage.js","name":"stream_index","original":{"line":180,"column":6},"generated":{"line":1,"column":2847}},{"source":"src/core_modules/data_storage.js","name":"stream_index","original":{"line":180,"column":6},"generated":{"line":1,"column":2852}},{"source":"src/core_modules/data_storage.js","original":{"line":180,"column":22},"generated":{"line":1,"column":2865}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":181,"column":6},"generated":{"line":1,"column":2867}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":181,"column":6},"generated":{"line":1,"column":2872}},{"source":"src/core_modules/data_storage.js","original":{"line":181,"column":10},"generated":{"line":1,"column":2876}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":2898}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":2899}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":2903}},{"source":"src/core_modules/data_storage.js","name":"name","original":{"line":189,"column":11},"generated":{"line":1,"column":2912}},{"source":"src/core_modules/data_storage.js","name":"name","original":{"line":189,"column":11},"generated":{"line":1,"column":2918}},{"source":"src/core_modules/data_storage.js","name":"name","original":{"line":189,"column":11},"generated":{"line":1,"column":2927}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":190,"column":6},"generated":{"line":1,"column":2930}},{"source":"src/core_modules/data_storage.js","name":"log","original":{"line":190,"column":6},"generated":{"line":1,"column":2935}},{"source":"src/core_modules/data_storage.js","original":{"line":190,"column":10},"generated":{"line":1,"column":2939}},{"source":"src/core_modules/data_storage.js","original":{"line":190,"column":38},"generated":{"line":1,"column":2965}},{"source":"src/core_modules/data_storage.js","name":"session_id","original":{"line":190,"column":43},"generated":{"line":1,"column":2970}},{"source":"src/core_modules/data_storage.js","name":"csvContent","original":{"line":191,"column":5},"generated":{"line":1,"column":2982}},{"source":"src/core_modules/data_storage.js","name":"csvContent","original":{"line":191,"column":5},"generated":{"line":1,"column":2986}},{"source":"src/core_modules/data_storage.js","original":{"line":191,"column":18},"generated":{"line":1,"column":2988}},{"source":"src/core_modules/data_storage.js","name":"keys","original":{"line":194,"column":5},"generated":{"line":1,"column":3019}},{"source":"src/core_modules/data_storage.js","name":"Object","original":{"line":194,"column":12},"generated":{"line":1,"column":3021}},{"source":"src/core_modules/data_storage.js","name":"keys","original":{"line":194,"column":19},"generated":{"line":1,"column":3028}},{"source":"src/core_modules/data_storage.js","original":{"line":194,"column":24},"generated":{"line":1,"column":3033}},{"source":"src/core_modules/data_storage.js","name":"loaded_session","original":{"line":194,"column":29},"generated":{"line":1,"column":3038}},{"source":"src/core_modules/data_storage.js","original":{"line":194,"column":44},"generated":{"line":1,"column":3053}},{"source":"src/core_modules/data_storage.js","name":"sort","original":{"line":194,"column":48},"generated":{"line":1,"column":3057}},{"source":"src/core_modules/data_storage.js","name":"csvContent","original":{"line":197,"column":1},"generated":{"line":1,"column":3064}},{"source":"src/core_modules/data_storage.js","name":"keys","original":{"line":197,"column":17},"generated":{"line":1,"column":3067}},{"source":"src/core_modules/data_storage.js","name":"join","original":{"line":197,"column":22},"generated":{"line":1,"column":3069}},{"source":"src/core_modules/data_storage.js","original":{"line":197,"column":27},"generated":{"line":1,"column":3074}},{"source":"src/core_modules/data_storage.js","original":{"line":197,"column":34},"generated":{"line":1,"column":3079}},{"source":"src/core_modules/data_storage.js","original":{"line":200,"column":6},"generated":{"line":1,"column":3084}},{"source":"src/core_modules/data_storage.js","original":{"line":200,"column":6},"generated":{"line":1,"column":3088}},{"source":"src/core_modules/data_storage.js","name":"i","original":{"line":200,"column":10},"generated":{"line":1,"column":3092}},{"source":"src/core_modules/data_storage.js","original":{"line":200,"column":13},"generated":{"line":1,"column":3094}},{"source":"src/core_modules/data_storage.js","name":"i","original":{"line":200,"column":17},"generated":{"line":1,"column":3096}},{"source":"src/core_modules/data_storage.js","original":{"line":200,"column":21},"generated":{"line":1,"column":3098}},{"source":"src/core_modules/data_storage.js","name":"loaded_session","original":{"line":200,"column":26},"generated":{"line":1,"column":3103}},{"source":"src/core_modules/data_storage.js","name":"length","original":{"line":200,"column":41},"generated":{"line":1,"column":3118}},{"source":"src/core_modules/data_storage.js","name":"i","original":{"line":200,"column":50},"generated":{"line":1,"column":3125}},{"source":"src/core_modules/data_storage.js","original":{"line":200,"column":56},"generated":{"line":1,"column":3129}},{"source":"src/core_modules/data_storage.js","name":"data","original":{"line":201,"column":9},"generated":{"line":1,"column":3130}},{"source":"src/core_modules/data_storage.js","name":"data","original":{"line":201,"column":9},"generated":{"line":1,"column":3134}},{"source":"src/core_modules/data_storage.js","original":{"line":201,"column":16},"generated":{"line":1,"column":3136}},{"source":"src/core_modules/data_storage.js","name":"loaded_session","original":{"line":201,"column":21},"generated":{"line":1,"column":3141}},{"source":"src/core_modules/data_storage.js","name":"i","original":{"line":201,"column":36},"generated":{"line":1,"column":3156}},{"source":"src/core_modules/data_storage.js","name":"data","original":{"line":202,"column":9},"generated":{"line":1,"column":3159}},{"source":"src/core_modules/data_storage.js","original":{"line":202,"column":21},"generated":{"line":1,"column":3162}},{"source":"src/core_modules/data_storage.js","name":"data","original":{"line":202,"column":9},"generated":{"line":1,"column":3167}},{"source":"src/core_modules/data_storage.js","name":"dev","original":{"line":202,"column":14},"generated":{"line":1,"column":3169}},{"source":"src/core_modules/data_storage.js","original":{"line":202,"column":27},"generated":{"line":1,"column":3173}},{"source":"src/core_modules/data_storage.js","original":{"line":205,"column":7},"generated":{"line":1,"column":3174}},{"source":"src/core_modules/data_storage.js","name":"row_content","original":{"line":203,"column":6},"generated":{"line":1,"column":3178}},{"source":"src/core_modules/data_storage.js","name":"row_content","original":{"line":203,"column":6},"generated":{"line":1,"column":3182}},{"source":"src/core_modules/data_storage.js","original":{"line":203,"column":20},"generated":{"line":1,"column":3184}},{"source":"src/core_modules/data_storage.js","name":"k","original":{"line":205,"column":11},"generated":{"line":1,"column":3187}},{"source":"src/core_modules/data_storage.js","original":{"line":205,"column":15},"generated":{"line":1,"column":3189}},{"source":"src/core_modules/data_storage.js","name":"k","original":{"line":205,"column":19},"generated":{"line":1,"column":3191}},{"source":"src/core_modules/data_storage.js","name":"keys","original":{"line":205,"column":23},"generated":{"line":1,"column":3193}},{"source":"src/core_modules/data_storage.js","name":"length","original":{"line":205,"column":28},"generated":{"line":1,"column":3195}},{"source":"src/core_modules/data_storage.js","name":"k","original":{"line":205,"column":37},"generated":{"line":1,"column":3202}},{"source":"src/core_modules/data_storage.js","original":{"line":205,"column":44},"generated":{"line":1,"column":3206}},{"source":"src/core_modules/data_storage.js","name":"key","original":{"line":206,"column":10},"generated":{"line":1,"column":3207}},{"source":"src/core_modules/data_storage.js","name":"key","original":{"line":206,"column":10},"generated":{"line":1,"column":3211}},{"source":"src/core_modules/data_storage.js","name":"keys","original":{"line":206,"column":16},"generated":{"line":1,"column":3213}},{"source":"src/core_modules/data_storage.js","name":"k","original":{"line":206,"column":21},"generated":{"line":1,"column":3215}},{"source":"src/core_modules/data_storage.js","name":"data","original":{"line":207,"column":16},"generated":{"line":1,"column":3218}},{"source":"src/core_modules/data_storage.js","name":"key","original":{"line":207,"column":21},"generated":{"line":1,"column":3220}},{"source":"src/core_modules/data_storage.js","name":"row_content","original":{"line":208,"column":6},"generated":{"line":1,"column":3223}},{"source":"src/core_modules/data_storage.js","name":"push","original":{"line":208,"column":18},"generated":{"line":1,"column":3225}},{"source":"src/core_modules/data_storage.js","name":"data","original":{"line":208,"column":23},"generated":{"line":1,"column":3230}},{"source":"src/core_modules/data_storage.js","name":"key","original":{"line":208,"column":28},"generated":{"line":1,"column":3232}},{"source":"src/core_modules/data_storage.js","name":"csvContent","original":{"line":210,"column":2},"generated":{"line":1,"column":3236}},{"source":"src/core_modules/data_storage.js","name":"row_content","original":{"line":210,"column":17},"generated":{"line":1,"column":3239}},{"source":"src/core_modules/data_storage.js","name":"join","original":{"line":210,"column":29},"generated":{"line":1,"column":3241}},{"source":"src/core_modules/data_storage.js","original":{"line":210,"column":34},"generated":{"line":1,"column":3246}},{"source":"src/core_modules/data_storage.js","original":{"line":210,"column":41},"generated":{"line":1,"column":3251}},{"source":"src/core_modules/data_storage.js","name":"encodedUri","original":{"line":214,"column":5},"generated":{"line":1,"column":3257}},{"source":"src/core_modules/data_storage.js","name":"encodedUri","original":{"line":214,"column":5},"generated":{"line":1,"column":3261}},{"source":"src/core_modules/data_storage.js","name":"encodeURI","original":{"line":214,"column":18},"generated":{"line":1,"column":3263}},{"source":"src/core_modules/data_storage.js","name":"csvContent","original":{"line":214,"column":28},"generated":{"line":1,"column":3273}},{"source":"src/core_modules/data_storage.js","name":"link","original":{"line":215,"column":5},"generated":{"line":1,"column":3276}},{"source":"src/core_modules/data_storage.js","name":"document","original":{"line":215,"column":12},"generated":{"line":1,"column":3278}},{"source":"src/core_modules/data_storage.js","name":"createElement","original":{"line":215,"column":21},"generated":{"line":1,"column":3287}},{"source":"src/core_modules/data_storage.js","original":{"line":215,"column":35},"generated":{"line":1,"column":3301}},{"source":"src/core_modules/data_storage.js","name":"link","original":{"line":216,"column":1},"generated":{"line":1,"column":3306}},{"source":"src/core_modules/data_storage.js","name":"setAttribute","original":{"line":216,"column":6},"generated":{"line":1,"column":3308}},{"source":"src/core_modules/data_storage.js","original":{"line":216,"column":19},"generated":{"line":1,"column":3321}},{"source":"src/core_modules/data_storage.js","name":"encodedUri","original":{"line":216,"column":27},"generated":{"line":1,"column":3328}},{"source":"src/core_modules/data_storage.js","name":"link","original":{"line":217,"column":1},"generated":{"line":1,"column":3331}},{"source":"src/core_modules/data_storage.js","name":"setAttribute","original":{"line":217,"column":6},"generated":{"line":1,"column":3333}},{"source":"src/core_modules/data_storage.js","original":{"line":217,"column":19},"generated":{"line":1,"column":3346}},{"source":"src/core_modules/data_storage.js","name":"name","original":{"line":217,"column":32},"generated":{"line":1,"column":3358}},{"source":"src/core_modules/data_storage.js","original":{"line":217,"column":40},"generated":{"line":1,"column":3361}},{"source":"src/core_modules/data_storage.js","name":"session_id","original":{"line":217,"column":45},"generated":{"line":1,"column":3366}},{"source":"src/core_modules/data_storage.js","original":{"line":217,"column":61},"generated":{"line":1,"column":3378}},{"source":"src/core_modules/data_storage.js","name":"link","original":{"line":218,"column":1},"generated":{"line":1,"column":3386}},{"source":"src/core_modules/data_storage.js","name":"click","original":{"line":218,"column":6},"generated":{"line":1,"column":3388}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":3400}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":3402}},{"source":"src/core_modules/data_storage.js","original":{"line":229,"column":0},"generated":{"line":1,"column":3405}},{"source":"src/core_modules/data_storage.js","name":"get_session_part_names","original":{"line":229,"column":9},"generated":{"line":1,"column":3414}},{"source":"src/core_modules/data_storage.js","name":"id","original":{"line":229,"column":32},"generated":{"line":1,"column":3416}},{"source":"src/core_modules/data_storage.js","name":"Object","original":{"line":230,"column":11},"generated":{"line":1,"column":3419}},{"source":"src/core_modules/data_storage.js","name":"Object","original":{"line":230,"column":11},"generated":{"line":1,"column":3426}},{"source":"src/core_modules/data_storage.js","name":"keys","original":{"line":230,"column":18},"generated":{"line":1,"column":3433}},{"source":"src/core_modules/data_storage.js","name":"localStorage","original":{"line":230,"column":23},"generated":{"line":1,"column":3438}},{"source":"src/core_modules/data_storage.js","name":"filter","original":{"line":230,"column":37},"generated":{"line":1,"column":3452}},{"source":"src/core_modules/data_storage.js","original":{"line":230,"column":45},"generated":{"line":1,"column":3459}},{"source":"src/core_modules/data_storage.js","name":"s","original":{"line":230,"column":45},"generated":{"line":1,"column":3468}},{"source":"src/core_modules/data_storage.js","name":"s","original":{"line":230,"column":50},"generated":{"line":1,"column":3471}},{"source":"src/core_modules/data_storage.js","name":"s","original":{"line":230,"column":50},"generated":{"line":1,"column":3478}},{"source":"src/core_modules/data_storage.js","name":"includes","original":{"line":230,"column":52},"generated":{"line":1,"column":3480}},{"source":"src/core_modules/data_storage.js","name":"id","original":{"line":230,"column":61},"generated":{"line":1,"column":3489}},{"source":"src/core_modules/data_storage.js","name":"sort","original":{"line":230,"column":67},"generated":{"line":1,"column":3494}},{"source":"src/core_modules/data_storage.js","original":{"line":233,"column":0},"generated":{"line":1,"column":3501}},{"source":"src/core_modules/data_storage.js","name":"get_session","original":{"line":233,"column":9},"generated":{"line":1,"column":3510}},{"source":"src/core_modules/data_storage.js","name":"id","original":{"line":233,"column":21},"generated":{"line":1,"column":3512}},{"source":"src/core_modules/data_storage.js","name":"parts_names","original":{"line":234,"column":8},"generated":{"line":1,"column":3515}},{"source":"src/core_modules/data_storage.js","name":"parts_names","original":{"line":234,"column":8},"generated":{"line":1,"column":3519}},{"source":"src/core_modules/data_storage.js","name":"get_session_part_names","original":{"line":234,"column":22},"generated":{"line":1,"column":3521}},{"source":"src/core_modules/data_storage.js","name":"id","original":{"line":234,"column":45},"generated":{"line":1,"column":3523}},{"source":"src/core_modules/data_storage.js","name":"merged","original":{"line":241,"column":11},"generated":{"line":1,"column":3526}},{"source":"src/core_modules/data_storage.js","name":"tmp","original":{"line":236,"column":4},"generated":{"line":1,"column":3533}},{"source":"src/core_modules/data_storage.js","name":"parts_names","original":{"line":236,"column":10},"generated":{"line":1,"column":3537}},{"source":"src/core_modules/data_storage.js","name":"map","original":{"line":236,"column":22},"generated":{"line":1,"column":3539}},{"source":"src/core_modules/data_storage.js","original":{"line":236,"column":27},"generated":{"line":1,"column":3543}},{"source":"src/core_modules/data_storage.js","name":"name","original":{"line":236,"column":36},"generated":{"line":1,"column":3552}},{"source":"src/core_modules/data_storage.js","name":"JSON","original":{"line":237,"column":8},"generated":{"line":1,"column":3555}},{"source":"src/core_modules/data_storage.js","name":"JSON","original":{"line":237,"column":8},"generated":{"line":1,"column":3562}},{"source":"src/core_modules/data_storage.js","name":"parse","original":{"line":237,"column":13},"generated":{"line":1,"column":3567}},{"source":"src/core_modules/data_storage.js","name":"localStorage","original":{"line":237,"column":19},"generated":{"line":1,"column":3573}},{"source":"src/core_modules/data_storage.js","name":"getItem","original":{"line":237,"column":32},"generated":{"line":1,"column":3586}},{"source":"src/core_modules/data_storage.js","name":"name","original":{"line":237,"column":40},"generated":{"line":1,"column":3594}},{"source":"src/core_modules/data_storage.js","original":{"line":240,"column":17},"generated":{"line":1,"column":3600}},{"source":"src/core_modules/data_storage.js","name":"concat","original":{"line":240,"column":20},"generated":{"line":1,"column":3603}},{"source":"src/core_modules/data_storage.js","name":"apply","original":{"line":240,"column":27},"generated":{"line":1,"column":3610}},{"source":"src/core_modules/data_storage.js","original":{"line":240,"column":33},"generated":{"line":1,"column":3616}},{"source":"src/core_modules/data_storage.js","name":"tmp","original":{"line":240,"column":37},"generated":{"line":1,"column":3619}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":3624}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":3632}},{"source":"src/core_modules/data_storage.js","original":{"line":242,"column":1},"generated":{"line":1,"column":3640}}],"sources":{"src/core_modules/data_storage.js":"//Tue Oct  2 10:12:11 PDT 2018\n\nimport {makeLogger} from \"./logger.js\"\nimport util from \"../module_resources/utils.js\"\n\n/**\n * \n * \n */\n\nexport default class data_storage {\n\n    /**\n     * Manages data persistence and replay/simulation. Uses browser based local storage. \n     * @param {String} name - Session identifier, use null for default time string\n     */ \n    constructor(name) { \n\tthis.session_id = name || (new Date()).toISOString()\n\tthis.data_history = [] \n\tthis.part_counter = 1 \n\tthis.save_interval_id = null \n\tthis.loaded_session = null \n\t\n\tthis.log = makeLogger(\"DS\")\n\tthis.default_handler = function(data) { \n\t    this.log(\"No data handler has been defined!\") \n\t} \n\tthis.data_handler = this.default_handler \n\tthis.stream_index = 0 \n    } \n    \n    /**\n     *  Persists a chunk of data to localStorage. Uses session name + part_number as identifier\n     */ \n    flush_data() { \n\tvar to_save = JSON.stringify(this.data_history)\n\tname    = this.session_id + \"_part\" + this.part_counter.toString() \n\tthis.data_history = [] \n\tlocalStorage.setItem(name, to_save) \n\tthis.part_counter += 1 \n\tthis.log(\"Saved data chunk: \" + name ) \n    } \n    \n    /**\n     * Start saving data to localStorage. Data is saved in chunks called 'parts'. \n     * @param {Number} rate - The rate to flush data to localStorage in SECONDS \n     */ \n    start_saving(rate) { \n\tthis.save_interval_id = setInterval(  (function(){this.flush_data()}).bind(this) , rate*1000)\n\tthis.log(\"Saving started for session: \" + this.session_id) \n    } \n\n    /**\n     * Stop saving data to localStorage\n     */ \n    stop_saving() { \n\tclearInterval(this.save_interval_id) \n\tthis.log(\"Saving stopped for session: \" + this.session_id) \n    } \n    \n    /** \n     * Main data handler. Will append the incoming data to the data_history array \n     * @param {Object} obj - The data obj to add \n     */\n    process_data(obj) { \n\tthis.data_history.push(obj) \n    } \n\n    /** \n     * Loads a data storage session from localStorage. Returns Array. \n     */\n    load_session() { \n\tthis.log(\"Loading session...\")\n\tthis.loaded_session = get_session(this.session_id)  // see definition below \n\tthis.stream_index = 0 \n\tthis.buffer_size = this.loaded_session.length\n\tthis.streaming = false \n\tthis.zero_time_axis() \n\tthis.diffs = util.diff( this.loaded_session.map( d => d[\"time\"] )  )\n\tthis.log(\"Session loaded: \" + this.session_id) \n    } \n\n\n    /** \n     * Set the data_handler for data replay/simulation \n     * @param {Function} f - The data handler function  \n     */\n    set_data_handler(f) { \n\tthis.data_handler = f \n    } \n    \n    /** \n     * Start streaming the session that was previously loaded from localStorage \n     */\n    start_stream() { \n\tthis.stream_index =  0 \n\tthis.streaming = true \n\tthis.start_stream_loop() \n    } \n    \n    /** \n     * Stream single packet\n     */\n    stream_single_packet() { \n\tif (this.stream_index < this.buffer_size  ) { \t\n\t    //get the data\n\t    var val = this.loaded_session[this.stream_index]\n\t    //send the data\n\t    this.data_handler(val) \n\t    //increment the stream index \n\t    this.stream_index += 1 \n\t    return val \n\t} else { \n\t    this.stop_stream() \n\t} \n\t\n\n    } \n    \n    \n    /** \n     * Helper function for start_stream() \n     */\n    start_stream_loop() { \n    \t//when starting, this.index is 0, this.diffs is defined \n\tif (this.streaming) { \n\t    //get the data\n\t    var val = this.loaded_session[this.stream_index]\n\t    //send the data\n\t    this.data_handler(val) \n\t    \n\t    if (this.stream_index == this.buffer_size - 1 ) { \n\t\t//on the last data point  \n\t\t//significant b/c the diff array is finished \n\t\t//so we stop streaming \n\t\tthis.stop_stream() \n\t\t\n\t    } else { \n\t\t//not on the last data point \n\t\t//now acces the next diff \n\t\tvar delay = this.diffs[this.stream_index]\n\t\t//increment the stream_index \n\t\tthis.stream_index += 1 \n\t\t//schedule the loop again \n\t\tsetTimeout( (function() {this.start_stream_loop()}).bind(this) , delay)\n\t    }\n\t    \n\t}\n\t\n    }\n\t\t\n    \n    /** \n     * Zero the time axis of the data session \n     */\n    zero_time_axis() { \n\tthis.log(\"Zeroing time axis\") \n\tif (!this.loaded_session.length) { \n\t    throw(\"Session must be loaded!\")\n\t} else { \n\t    //get first time point \n\t    var t_1  = util.first(this.loaded_session)[\"time\"] \n\t    //now we subtract t_1 from all time points \n\t    this.loaded_session.map( function(d) { \n\t\td[\"time\"] = d[\"time\"] - t_1 \n\t\treturn d \n\t    })\n\t    this.log(\"Done\")\n\t}\n\t\n    } \n\n\n\n    /** \n     * Stop streaming the session that was previously loaded from localStorage \n     */\n    stop_stream() { \n\tthis.streaming = false \n\tthis.stream_index =  0 \n\tthis.log(\"Stream finished.\") \n    } \n\n    \n    \n    /** \n     * Makes csv string from this.loaded_session \n     */\n    to_csv(name) { \n\tthis.log(\"Creating csv file for: \" + this.session_id) \n\tlet csvContent = \"data:text/csv;charset=utf-8,\";\n\t\n\t//figure out the keys in the data objects \n\tlet keys = Object.keys(this.loaded_session[0]).sort()\n\t\n\t//write csv header \n\tcsvContent += ( keys.join(\",\") + \"\\n\" ) \n\t\n\t//then loop through the structure \n\tfor (var i =0 ; i < this.loaded_session.length ; i ++) { \n\t    var data = this.loaded_session[i]\n\t    if (data.dev == \"B\" ) { \n\t\tvar row_content = []\n\t\t//loop through keys to build the row \n\t\tfor (var k = 0 ; k < keys.length ; k ++ ) { \n\t\t    var key = keys[k] \n\t\t    var val = data[key]\n\t\t    row_content.push(data[key]) \n\t\t}\n\t\tcsvContent += (row_content.join(\",\") + \"\\n\" ) \n\t    }\n\t} \n\t\n\tvar encodedUri = encodeURI(csvContent);\n\tvar link = document.createElement(\"a\");\n\tlink.setAttribute(\"href\", encodedUri);\n\tlink.setAttribute(\"download\", (name || this.session_id)   + \".csv\");\n\tlink.click();\n\t\n    } \n\n    \n    \n    \n}\n\n\n// define some helpers \nfunction get_session_part_names(id) { \n    return Object.keys(localStorage).filter( s => s.includes(id) ).sort() \n} \n    \nfunction get_session(id) { \n    var parts_names = get_session_part_names(id) \n    // part names are sorted already \n    tmp = parts_names.map( function(name) { \n\treturn JSON.parse(localStorage.getItem(name))\n    }) \n    \n    var merged = [].concat.apply([], tmp);\n    return merged \n}\n"},"lineCount":null}},"hash":"e5af3f4bcbdd95ea6876610e275cce3a","cacheData":{"env":{}}}