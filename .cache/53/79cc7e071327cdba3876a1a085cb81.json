{"id":"6Nr1","dependencies":[{"name":"/Users/oluwa/dev/webrt_state_machine/package.json","includedInParent":true,"mtime":1540304235496},{"name":"../core_modules/logger.js","loc":{"line":5,"column":21},"parent":"/Users/oluwa/dev/webrt_state_machine/src/module_resources/state_machine_elements.js","resolved":"/Users/oluwa/dev/webrt_state_machine/src/core_modules/logger.js"},{"name":"./utils.js","loc":{"line":6,"column":23},"parent":"/Users/oluwa/dev/webrt_state_machine/src/module_resources/state_machine_elements.js","resolved":"/Users/oluwa/dev/webrt_state_machine/src/module_resources/utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.sme=void 0;var e=require(\"../core_modules/logger.js\"),r=require(\"./utils.js\");e.logger.register(\"sme\");var t={sensors:{dev_a:{},dev_b:{}},transitioners:{}};exports.sme=t,t.sensors.field=function(e){return function(t){return t=t.buffer,r.util.last(buffer)[e]}},t.sensors.field_diff=function(e){return function(r){var t=(r=r.buffer).length;return r[t-1][e]-r[t-2][e]}},t.is_dev_b=function(e){return\"B\"==e.dev},t.is_dev_a=function(e){return\"A\"==e.dev},t.sensors.dev_b.field=function(e){return function(t){var n=t.buffer;return\"B\"==(t=r.util.last(n)).dev?t[e]:(r.util.debug(\"filter miss\"),!1)}},t.transitioners.test_turn_on={detector:function(e){return!e.STATE.is_on},applicator:function(r){r.STATE.is_on=!0,r.debug_mode&&e.logger.sme(\"TURNED ON\")},group:\"switch\"},t.transitioners.test_turn_off={detector:function(e){return e.STATE.is_on},applicator:function(r){r.STATE.is_on=!1,r.debug_mode&&e.logger.sme(\"TURNED OFF\")},group:\"switch\"};","map":{"mappings":[{"source":"module_resources/state_machine_elements.js","original":{"line":68,"column":0},"generated":{"line":1,"column":0}},{"source":"module_resources/state_machine_elements.js","original":{"line":68,"column":0},"generated":{"line":1,"column":13}},{"source":"module_resources/state_machine_elements.js","original":{"line":68,"column":0},"generated":{"line":1,"column":20}},{"source":"module_resources/state_machine_elements.js","original":{"line":68,"column":0},"generated":{"line":1,"column":35}},{"source":"module_resources/state_machine_elements.js","original":{"line":68,"column":0},"generated":{"line":1,"column":43}},{"source":"module_resources/state_machine_elements.js","original":{"line":68,"column":0},"generated":{"line":1,"column":56}},{"source":"module_resources/state_machine_elements.js","original":{"line":68,"column":0},"generated":{"line":1,"column":57}},{"source":"module_resources/state_machine_elements.js","original":{"line":68,"column":0},"generated":{"line":1,"column":64}},{"source":"module_resources/state_machine_elements.js","original":{"line":68,"column":0},"generated":{"line":1,"column":68}},{"source":"module_resources/state_machine_elements.js","original":{"line":68,"column":0},"generated":{"line":1,"column":76}},{"source":"module_resources/state_machine_elements.js","original":{"line":68,"column":0},"generated":{"line":1,"column":85}},{"source":"module_resources/state_machine_elements.js","original":{"line":5,"column":0},"generated":{"line":1,"column":87}},{"source":"module_resources/state_machine_elements.js","original":{"line":5,"column":0},"generated":{"line":1,"column":91}},{"source":"module_resources/state_machine_elements.js","original":{"line":5,"column":0},"generated":{"line":1,"column":93}},{"source":"module_resources/state_machine_elements.js","original":{"line":5,"column":0},"generated":{"line":1,"column":101}},{"source":"module_resources/state_machine_elements.js","original":{"line":6,"column":0},"generated":{"line":1,"column":130}},{"source":"module_resources/state_machine_elements.js","original":{"line":6,"column":0},"generated":{"line":1,"column":132}},{"source":"module_resources/state_machine_elements.js","original":{"line":6,"column":0},"generated":{"line":1,"column":140}},{"source":"module_resources/state_machine_elements.js","name":"logger","original":{"line":8,"column":0},"generated":{"line":1,"column":154}},{"source":"module_resources/state_machine_elements.js","name":"register","original":{"line":8,"column":7},"generated":{"line":1,"column":156}},{"source":"module_resources/state_machine_elements.js","name":"register","original":{"line":8,"column":7},"generated":{"line":1,"column":163}},{"source":"module_resources/state_machine_elements.js","original":{"line":8,"column":16},"generated":{"line":1,"column":172}},{"source":"module_resources/state_machine_elements.js","original":{"line":10,"column":0},"generated":{"line":1,"column":179}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":10,"column":4},"generated":{"line":1,"column":183}},{"source":"module_resources/state_machine_elements.js","original":{"line":10,"column":10},"generated":{"line":1,"column":185}},{"source":"module_resources/state_machine_elements.js","name":"sensors","original":{"line":10,"column":12},"generated":{"line":1,"column":186}},{"source":"module_resources/state_machine_elements.js","original":{"line":10,"column":22},"generated":{"line":1,"column":194}},{"source":"module_resources/state_machine_elements.js","name":"dev_a","original":{"line":10,"column":24},"generated":{"line":1,"column":195}},{"source":"module_resources/state_machine_elements.js","original":{"line":10,"column":32},"generated":{"line":1,"column":201}},{"source":"module_resources/state_machine_elements.js","name":"dev_b","original":{"line":10,"column":37},"generated":{"line":1,"column":204}},{"source":"module_resources/state_machine_elements.js","original":{"line":10,"column":45},"generated":{"line":1,"column":210}},{"source":"module_resources/state_machine_elements.js","name":"transitioners","original":{"line":11,"column":5},"generated":{"line":1,"column":214}},{"source":"module_resources/state_machine_elements.js","original":{"line":11,"column":21},"generated":{"line":1,"column":228}},{"source":"module_resources/state_machine_elements.js","original":{"line":68,"column":0},"generated":{"line":1,"column":232}},{"source":"module_resources/state_machine_elements.js","original":{"line":68,"column":0},"generated":{"line":1,"column":240}},{"source":"module_resources/state_machine_elements.js","original":{"line":68,"column":0},"generated":{"line":1,"column":244}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":16,"column":0},"generated":{"line":1,"column":246}},{"source":"module_resources/state_machine_elements.js","name":"sensors","original":{"line":16,"column":4},"generated":{"line":1,"column":248}},{"source":"module_resources/state_machine_elements.js","name":"field","original":{"line":16,"column":12},"generated":{"line":1,"column":256}},{"source":"module_resources/state_machine_elements.js","original":{"line":16,"column":20},"generated":{"line":1,"column":262}},{"source":"module_resources/state_machine_elements.js","name":"field","original":{"line":16,"column":29},"generated":{"line":1,"column":271}},{"source":"module_resources/state_machine_elements.js","original":{"line":17,"column":11},"generated":{"line":1,"column":274}},{"source":"module_resources/state_machine_elements.js","original":{"line":17,"column":11},"generated":{"line":1,"column":281}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":17,"column":20},"generated":{"line":1,"column":290}},{"source":"module_resources/state_machine_elements.js","name":"util","original":{"line":19,"column":8},"generated":{"line":1,"column":293}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":18,"column":1},"generated":{"line":1,"column":300}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":18,"column":5},"generated":{"line":1,"column":302}},{"source":"module_resources/state_machine_elements.js","name":"buffer","original":{"line":18,"column":7},"generated":{"line":1,"column":304}},{"source":"module_resources/state_machine_elements.js","name":"util","original":{"line":19,"column":8},"generated":{"line":1,"column":311}},{"source":"module_resources/state_machine_elements.js","name":"last","original":{"line":19,"column":13},"generated":{"line":1,"column":313}},{"source":"module_resources/state_machine_elements.js","name":"last","original":{"line":19,"column":13},"generated":{"line":1,"column":318}},{"source":"module_resources/state_machine_elements.js","name":"buffer","original":{"line":19,"column":18},"generated":{"line":1,"column":323}},{"source":"module_resources/state_machine_elements.js","name":"field","original":{"line":19,"column":26},"generated":{"line":1,"column":331}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":24,"column":0},"generated":{"line":1,"column":336}},{"source":"module_resources/state_machine_elements.js","name":"sensors","original":{"line":24,"column":4},"generated":{"line":1,"column":338}},{"source":"module_resources/state_machine_elements.js","name":"field_diff","original":{"line":24,"column":12},"generated":{"line":1,"column":346}},{"source":"module_resources/state_machine_elements.js","original":{"line":24,"column":25},"generated":{"line":1,"column":357}},{"source":"module_resources/state_machine_elements.js","name":"field","original":{"line":24,"column":34},"generated":{"line":1,"column":366}},{"source":"module_resources/state_machine_elements.js","original":{"line":25,"column":11},"generated":{"line":1,"column":369}},{"source":"module_resources/state_machine_elements.js","original":{"line":25,"column":11},"generated":{"line":1,"column":376}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":25,"column":20},"generated":{"line":1,"column":385}},{"source":"module_resources/state_machine_elements.js","name":"l","original":{"line":27,"column":5},"generated":{"line":1,"column":388}},{"source":"module_resources/state_machine_elements.js","name":"l","original":{"line":27,"column":5},"generated":{"line":1,"column":392}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":26,"column":1},"generated":{"line":1,"column":395}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":26,"column":5},"generated":{"line":1,"column":397}},{"source":"module_resources/state_machine_elements.js","name":"buffer","original":{"line":26,"column":7},"generated":{"line":1,"column":399}},{"source":"module_resources/state_machine_elements.js","name":"length","original":{"line":27,"column":11},"generated":{"line":1,"column":407}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":28,"column":8},"generated":{"line":1,"column":414}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":28,"column":8},"generated":{"line":1,"column":421}},{"source":"module_resources/state_machine_elements.js","name":"l","original":{"line":28,"column":10},"generated":{"line":1,"column":423}},{"source":"module_resources/state_machine_elements.js","original":{"line":28,"column":12},"generated":{"line":1,"column":425}},{"source":"module_resources/state_machine_elements.js","name":"field","original":{"line":28,"column":15},"generated":{"line":1,"column":428}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":28,"column":24},"generated":{"line":1,"column":431}},{"source":"module_resources/state_machine_elements.js","name":"l","original":{"line":28,"column":26},"generated":{"line":1,"column":433}},{"source":"module_resources/state_machine_elements.js","original":{"line":28,"column":28},"generated":{"line":1,"column":435}},{"source":"module_resources/state_machine_elements.js","name":"field","original":{"line":28,"column":31},"generated":{"line":1,"column":438}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":34,"column":0},"generated":{"line":1,"column":443}},{"source":"module_resources/state_machine_elements.js","name":"is_dev_b","original":{"line":34,"column":4},"generated":{"line":1,"column":445}},{"source":"module_resources/state_machine_elements.js","original":{"line":34,"column":15},"generated":{"line":1,"column":454}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":34,"column":25},"generated":{"line":1,"column":463}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":35,"column":11},"generated":{"line":1,"column":466}},{"source":"module_resources/state_machine_elements.js","original":{"line":35,"column":20},"generated":{"line":1,"column":472}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":35,"column":11},"generated":{"line":1,"column":477}},{"source":"module_resources/state_machine_elements.js","name":"dev","original":{"line":35,"column":13},"generated":{"line":1,"column":479}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":38,"column":0},"generated":{"line":1,"column":484}},{"source":"module_resources/state_machine_elements.js","name":"is_dev_a","original":{"line":38,"column":4},"generated":{"line":1,"column":486}},{"source":"module_resources/state_machine_elements.js","original":{"line":38,"column":15},"generated":{"line":1,"column":495}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":38,"column":25},"generated":{"line":1,"column":504}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":39,"column":11},"generated":{"line":1,"column":507}},{"source":"module_resources/state_machine_elements.js","original":{"line":39,"column":20},"generated":{"line":1,"column":513}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":39,"column":11},"generated":{"line":1,"column":518}},{"source":"module_resources/state_machine_elements.js","name":"dev","original":{"line":39,"column":13},"generated":{"line":1,"column":520}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":42,"column":0},"generated":{"line":1,"column":525}},{"source":"module_resources/state_machine_elements.js","name":"sensors","original":{"line":42,"column":4},"generated":{"line":1,"column":527}},{"source":"module_resources/state_machine_elements.js","name":"dev_b","original":{"line":42,"column":12},"generated":{"line":1,"column":535}},{"source":"module_resources/state_machine_elements.js","name":"field","original":{"line":42,"column":18},"generated":{"line":1,"column":541}},{"source":"module_resources/state_machine_elements.js","original":{"line":42,"column":26},"generated":{"line":1,"column":547}},{"source":"module_resources/state_machine_elements.js","name":"field","original":{"line":42,"column":35},"generated":{"line":1,"column":556}},{"source":"module_resources/state_machine_elements.js","original":{"line":44,"column":11},"generated":{"line":1,"column":559}},{"source":"module_resources/state_machine_elements.js","original":{"line":44,"column":11},"generated":{"line":1,"column":566}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":44,"column":20},"generated":{"line":1,"column":575}},{"source":"module_resources/state_machine_elements.js","name":"buf","original":{"line":45,"column":5},"generated":{"line":1,"column":578}},{"source":"module_resources/state_machine_elements.js","name":"buf","original":{"line":45,"column":5},"generated":{"line":1,"column":582}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":45,"column":11},"generated":{"line":1,"column":584}},{"source":"module_resources/state_machine_elements.js","name":"buffer","original":{"line":45,"column":13},"generated":{"line":1,"column":586}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":47,"column":5},"generated":{"line":1,"column":593}},{"source":"module_resources/state_machine_elements.js","original":{"line":47,"column":14},"generated":{"line":1,"column":599}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":46,"column":5},"generated":{"line":1,"column":605}},{"source":"module_resources/state_machine_elements.js","name":"util","original":{"line":46,"column":9},"generated":{"line":1,"column":607}},{"source":"module_resources/state_machine_elements.js","name":"last","original":{"line":46,"column":14},"generated":{"line":1,"column":609}},{"source":"module_resources/state_machine_elements.js","name":"last","original":{"line":46,"column":14},"generated":{"line":1,"column":614}},{"source":"module_resources/state_machine_elements.js","name":"buf","original":{"line":46,"column":19},"generated":{"line":1,"column":619}},{"source":"module_resources/state_machine_elements.js","name":"dev","original":{"line":47,"column":7},"generated":{"line":1,"column":623}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":48,"column":12},"generated":{"line":1,"column":627}},{"source":"module_resources/state_machine_elements.js","name":"field","original":{"line":48,"column":14},"generated":{"line":1,"column":629}},{"source":"module_resources/state_machine_elements.js","name":"debug","original":{"line":50,"column":10},"generated":{"line":1,"column":633}},{"source":"module_resources/state_machine_elements.js","name":"debug","original":{"line":50,"column":10},"generated":{"line":1,"column":635}},{"source":"module_resources/state_machine_elements.js","name":"debug","original":{"line":50,"column":10},"generated":{"line":1,"column":640}},{"source":"module_resources/state_machine_elements.js","original":{"line":50,"column":16},"generated":{"line":1,"column":646}},{"source":"module_resources/state_machine_elements.js","original":{"line":51,"column":12},"generated":{"line":1,"column":662}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":55,"column":0},"generated":{"line":1,"column":667}},{"source":"module_resources/state_machine_elements.js","name":"transitioners","original":{"line":55,"column":4},"generated":{"line":1,"column":669}},{"source":"module_resources/state_machine_elements.js","name":"test_turn_on","original":{"line":55,"column":18},"generated":{"line":1,"column":683}},{"source":"module_resources/state_machine_elements.js","original":{"line":55,"column":34},"generated":{"line":1,"column":696}},{"source":"module_resources/state_machine_elements.js","original":{"line":56,"column":17},"generated":{"line":1,"column":697}},{"source":"module_resources/state_machine_elements.js","original":{"line":56,"column":17},"generated":{"line":1,"column":706}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":56,"column":26},"generated":{"line":1,"column":715}},{"source":"module_resources/state_machine_elements.js","original":{"line":57,"column":8},"generated":{"line":1,"column":718}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":57,"column":9},"generated":{"line":1,"column":725}},{"source":"module_resources/state_machine_elements.js","name":"STATE","original":{"line":57,"column":23},"generated":{"line":1,"column":727}},{"source":"module_resources/state_machine_elements.js","name":"is_on","original":{"line":57,"column":29},"generated":{"line":1,"column":733}},{"source":"module_resources/state_machine_elements.js","original":{"line":60,"column":19},"generated":{"line":1,"column":740}},{"source":"module_resources/state_machine_elements.js","original":{"line":60,"column":19},"generated":{"line":1,"column":751}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":60,"column":28},"generated":{"line":1,"column":760}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":61,"column":1},"generated":{"line":1,"column":763}},{"source":"module_resources/state_machine_elements.js","name":"STATE","original":{"line":61,"column":15},"generated":{"line":1,"column":765}},{"source":"module_resources/state_machine_elements.js","name":"is_on","original":{"line":61,"column":21},"generated":{"line":1,"column":771}},{"source":"module_resources/state_machine_elements.js","original":{"line":61,"column":29},"generated":{"line":1,"column":778}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":62,"column":5},"generated":{"line":1,"column":780}},{"source":"module_resources/state_machine_elements.js","name":"debug_mode","original":{"line":62,"column":19},"generated":{"line":1,"column":782}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":62,"column":41},"generated":{"line":1,"column":794}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":62,"column":41},"generated":{"line":1,"column":796}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":62,"column":41},"generated":{"line":1,"column":803}},{"source":"module_resources/state_machine_elements.js","original":{"line":62,"column":45},"generated":{"line":1,"column":807}},{"source":"module_resources/state_machine_elements.js","original":{"line":64,"column":14},"generated":{"line":1,"column":821}},{"source":"module_resources/state_machine_elements.js","original":{"line":64,"column":14},"generated":{"line":1,"column":827}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":68,"column":0},"generated":{"line":1,"column":837}},{"source":"module_resources/state_machine_elements.js","name":"transitioners","original":{"line":68,"column":4},"generated":{"line":1,"column":839}},{"source":"module_resources/state_machine_elements.js","name":"test_turn_off","original":{"line":68,"column":18},"generated":{"line":1,"column":853}},{"source":"module_resources/state_machine_elements.js","original":{"line":68,"column":35},"generated":{"line":1,"column":867}},{"source":"module_resources/state_machine_elements.js","original":{"line":69,"column":17},"generated":{"line":1,"column":868}},{"source":"module_resources/state_machine_elements.js","original":{"line":69,"column":17},"generated":{"line":1,"column":877}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":69,"column":26},"generated":{"line":1,"column":886}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":70,"column":8},"generated":{"line":1,"column":889}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":70,"column":8},"generated":{"line":1,"column":896}},{"source":"module_resources/state_machine_elements.js","name":"STATE","original":{"line":70,"column":22},"generated":{"line":1,"column":898}},{"source":"module_resources/state_machine_elements.js","name":"is_on","original":{"line":70,"column":28},"generated":{"line":1,"column":904}},{"source":"module_resources/state_machine_elements.js","original":{"line":72,"column":19},"generated":{"line":1,"column":911}},{"source":"module_resources/state_machine_elements.js","original":{"line":72,"column":19},"generated":{"line":1,"column":922}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":72,"column":28},"generated":{"line":1,"column":931}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":73,"column":1},"generated":{"line":1,"column":934}},{"source":"module_resources/state_machine_elements.js","name":"STATE","original":{"line":73,"column":15},"generated":{"line":1,"column":936}},{"source":"module_resources/state_machine_elements.js","name":"is_on","original":{"line":73,"column":21},"generated":{"line":1,"column":942}},{"source":"module_resources/state_machine_elements.js","original":{"line":73,"column":29},"generated":{"line":1,"column":949}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":74,"column":5},"generated":{"line":1,"column":951}},{"source":"module_resources/state_machine_elements.js","name":"debug_mode","original":{"line":74,"column":19},"generated":{"line":1,"column":953}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":74,"column":41},"generated":{"line":1,"column":965}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":74,"column":41},"generated":{"line":1,"column":967}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":74,"column":41},"generated":{"line":1,"column":974}},{"source":"module_resources/state_machine_elements.js","original":{"line":74,"column":45},"generated":{"line":1,"column":978}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":14},"generated":{"line":1,"column":993}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":14},"generated":{"line":1,"column":999}}],"sources":{"module_resources/state_machine_elements.js":"//Fri Oct  5 19:31:23 PDT 2018\n\n// filefor collecting definitions of Sensors and transitioners\n\nimport {logger} from \"../core_modules/logger.js\"\nimport {util}     from \"./utils.js\"\n\nlogger.register(\"sme\") \n\nvar sme = { sensors : { dev_a : {} , dev_b : {} } , \n\t    transitioners : {} }  \n\n\n//extract a specific field from the data objects \n//i.e. [{:acc_x :acc_y... } , ... ] => [ acc_x, acc_x ... ] \nsme.sensors.field = function(field) { \n    return function(d) { \n\td = d.buffer \n\treturn util.last(buffer)[field] \n    }\n} \n\n//field diff will take the  diff of a particular field in the data object \nsme.sensors.field_diff = function(field) { \n    return function(d) { \n\td = d.buffer \n\tvar l = d.length \n\treturn d[l-1][field] - d[l-2][field]\n    }\n} \n\n\n\nsme.is_dev_b = function (d) { \n    return d.dev == \"B\" \n} \n\nsme.is_dev_a = function (d) { \n    return d.dev == \"A\" \n} \n\nsme.sensors.dev_b.field = function(field) { \n    //return sme.generic_filter(sme.is_dev_b , d=>d[field] ) \n    return function(d) {\n\tvar buf = d.buffer \n\tvar d = util.last(buf) \n\tif (d.dev == \"B\") { \n\t    return d[field]\n\t} else { \n\t    util.debug(\"filter miss\")\n\t    return false }\n    }\n}\n\nsme.transitioners.test_turn_on  = { \n    \"detector\" : function(state_machine) { \n\treturn !state_machine.STATE.is_on \n\t\n    } , \n    \"applicator\" : function(state_machine) { \n\tstate_machine.STATE.is_on = true \n\tif (state_machine.debug_mode ) { logger.sme(\"TURNED ON\") }\n    },\n    \"group\" : \"switch\" \n}\n\n\nsme.transitioners.test_turn_off  = { \n    \"detector\" : function(state_machine) { \n\treturn state_machine.STATE.is_on \n    } , \n    \"applicator\" : function(state_machine) { \n\tstate_machine.STATE.is_on = false  \n\tif (state_machine.debug_mode ) { logger.sme(\"TURNED OFF\") }\n    } , \n    \"group\" : \"switch\" \n}\n\n\n\n\nexport { sme } \n"},"lineCount":null}},"hash":"f79ba42cfaaca0eb3c43105efc93a2a2","cacheData":{"env":{}}}