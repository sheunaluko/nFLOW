{"id":"Nr1i","dependencies":[{"name":"/Users/oluwa/dev/nflow/package.json","includedInParent":true,"mtime":1577421736932},{"name":"../core_modules/logger.js","loc":{"line":5,"column":21},"parent":"/Users/oluwa/dev/nflow/src/module_resources/state_machine_elements.js","resolved":"/Users/oluwa/dev/nflow/src/core_modules/logger.js"},{"name":"./utils.js","loc":{"line":6,"column":25},"parent":"/Users/oluwa/dev/nflow/src/module_resources/state_machine_elements.js","resolved":"/Users/oluwa/dev/nflow/src/module_resources/utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.sme=void 0;var e=require(\"../core_modules/logger.js\"),r=n(require(\"./utils.js\"));function t(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function n(e){if(e&&e.__esModule)return e;var r=t();if(r&&r.has(e))return r.get(e);var n={};if(null!=e){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(n,s,u):n[s]=e[s]}}return n.default=e,r&&r.set(e,n),n}e.logger.register(\"sme\");var o={sensors:{dev_a:{},dev_b:{}},transitioners:{}};exports.sme=o,o.sensors.field=function(e){return function(t){return r.last(t.buffer)[e]}},o.sensors.foo=function(e){return function(e){return console.log(e),20}},o.sensors.field_diff=function(e){return function(r){var t=(r=r.buffer).length;return r[t-1][e]-r[t-2][e]}},o.is_dev_b=function(e){return\"B\"==e.dev},o.is_dev_a=function(e){return\"A\"==e.dev},o.sensors.dev_b.field=function(e){return function(t){var n=t.buffer;return\"B\"==(t=r.last(n)).dev?t[e]:(r.debug(\"filter miss\"),!1)}},o.transitioners.test_turn_on={detector:function(e){return!e.STATE.is_on},applicator:function(r){r.STATE.is_on=!0,r.debug_mode&&e.logger.sme(\"TURNED ON\")},group:\"switch\"},o.transitioners.test_turn_off={detector:function(e){return e.STATE.is_on},applicator:function(r){r.STATE.is_on=!1,r.debug_mode&&e.logger.sme(\"TURNED OFF\")},group:\"switch\"};"},"sourceMaps":{"js":{"mappings":[{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":0}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":13}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":20}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":35}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":43}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":56}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":57}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":64}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":68}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":76}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":85}},{"source":"module_resources/state_machine_elements.js","original":{"line":5,"column":0},"generated":{"line":1,"column":87}},{"source":"module_resources/state_machine_elements.js","original":{"line":5,"column":0},"generated":{"line":1,"column":91}},{"source":"module_resources/state_machine_elements.js","original":{"line":5,"column":0},"generated":{"line":1,"column":93}},{"source":"module_resources/state_machine_elements.js","original":{"line":5,"column":0},"generated":{"line":1,"column":101}},{"source":"module_resources/state_machine_elements.js","original":{"line":6,"column":0},"generated":{"line":1,"column":130}},{"source":"module_resources/state_machine_elements.js","original":{"line":6,"column":0},"generated":{"line":1,"column":132}},{"source":"module_resources/state_machine_elements.js","original":{"line":6,"column":0},"generated":{"line":1,"column":134}},{"source":"module_resources/state_machine_elements.js","original":{"line":6,"column":0},"generated":{"line":1,"column":142}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":157}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":166}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":170}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":173}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":192}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":200}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":207}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":212}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":216}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":218}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":222}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":230}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":237}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":239}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":250}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":257}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":260}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":262}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":271}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":273}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":276}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":279}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":282}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":284}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":295}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":302}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":304}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":308}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":310}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":314}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":317}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":320}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":322}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":326}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":329}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":336}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":338}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":342}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":345}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":349}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":351}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":354}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":357}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":363}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":365}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":366}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":370}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":372}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":379}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":395}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":402}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":427}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":431}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":435}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":440}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":442}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":445}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":452}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":462}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":477}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":482}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":484}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":487}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":488}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":492}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":494}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":496}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":503}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":528}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":530}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":533}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":538}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":542}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":544}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":549}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":551}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":556}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":563}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":578}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":580}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":582}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":585}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":587}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":590}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":592}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":596}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":603}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":605}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":613}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":615}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":618}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":620}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":624}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":626}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":629}},{"source":"module_resources/state_machine_elements.js","name":"logger","original":{"line":8,"column":0},"generated":{"line":1,"column":631}},{"source":"module_resources/state_machine_elements.js","name":"register","original":{"line":8,"column":7},"generated":{"line":1,"column":633}},{"source":"module_resources/state_machine_elements.js","name":"register","original":{"line":8,"column":7},"generated":{"line":1,"column":640}},{"source":"module_resources/state_machine_elements.js","original":{"line":8,"column":16},"generated":{"line":1,"column":649}},{"source":"module_resources/state_machine_elements.js","original":{"line":10,"column":0},"generated":{"line":1,"column":656}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":10,"column":4},"generated":{"line":1,"column":660}},{"source":"module_resources/state_machine_elements.js","original":{"line":10,"column":10},"generated":{"line":1,"column":662}},{"source":"module_resources/state_machine_elements.js","name":"sensors","original":{"line":10,"column":12},"generated":{"line":1,"column":663}},{"source":"module_resources/state_machine_elements.js","original":{"line":10,"column":22},"generated":{"line":1,"column":671}},{"source":"module_resources/state_machine_elements.js","name":"dev_a","original":{"line":10,"column":24},"generated":{"line":1,"column":672}},{"source":"module_resources/state_machine_elements.js","original":{"line":10,"column":32},"generated":{"line":1,"column":678}},{"source":"module_resources/state_machine_elements.js","name":"dev_b","original":{"line":10,"column":37},"generated":{"line":1,"column":681}},{"source":"module_resources/state_machine_elements.js","original":{"line":10,"column":45},"generated":{"line":1,"column":687}},{"source":"module_resources/state_machine_elements.js","name":"transitioners","original":{"line":11,"column":5},"generated":{"line":1,"column":691}},{"source":"module_resources/state_machine_elements.js","original":{"line":11,"column":21},"generated":{"line":1,"column":705}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":709}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":717}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":0},"generated":{"line":1,"column":721}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":16,"column":0},"generated":{"line":1,"column":723}},{"source":"module_resources/state_machine_elements.js","name":"sensors","original":{"line":16,"column":4},"generated":{"line":1,"column":725}},{"source":"module_resources/state_machine_elements.js","name":"field","original":{"line":16,"column":12},"generated":{"line":1,"column":733}},{"source":"module_resources/state_machine_elements.js","original":{"line":16,"column":20},"generated":{"line":1,"column":739}},{"source":"module_resources/state_machine_elements.js","name":"field","original":{"line":16,"column":29},"generated":{"line":1,"column":748}},{"source":"module_resources/state_machine_elements.js","original":{"line":17,"column":11},"generated":{"line":1,"column":751}},{"source":"module_resources/state_machine_elements.js","original":{"line":17,"column":11},"generated":{"line":1,"column":758}},{"source":"module_resources/state_machine_elements.js","name":"sm","original":{"line":17,"column":20},"generated":{"line":1,"column":767}},{"source":"module_resources/state_machine_elements.js","name":"util","original":{"line":18,"column":8},"generated":{"line":1,"column":770}},{"source":"module_resources/state_machine_elements.js","name":"util","original":{"line":18,"column":8},"generated":{"line":1,"column":777}},{"source":"module_resources/state_machine_elements.js","name":"last","original":{"line":18,"column":13},"generated":{"line":1,"column":779}},{"source":"module_resources/state_machine_elements.js","name":"sm","original":{"line":18,"column":18},"generated":{"line":1,"column":784}},{"source":"module_resources/state_machine_elements.js","name":"buffer","original":{"line":18,"column":21},"generated":{"line":1,"column":786}},{"source":"module_resources/state_machine_elements.js","name":"field","original":{"line":18,"column":29},"generated":{"line":1,"column":794}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":22,"column":0},"generated":{"line":1,"column":799}},{"source":"module_resources/state_machine_elements.js","name":"sensors","original":{"line":22,"column":4},"generated":{"line":1,"column":801}},{"source":"module_resources/state_machine_elements.js","name":"foo","original":{"line":22,"column":12},"generated":{"line":1,"column":809}},{"source":"module_resources/state_machine_elements.js","original":{"line":22,"column":18},"generated":{"line":1,"column":813}},{"source":"module_resources/state_machine_elements.js","name":"x","original":{"line":22,"column":27},"generated":{"line":1,"column":822}},{"source":"module_resources/state_machine_elements.js","original":{"line":23,"column":11},"generated":{"line":1,"column":825}},{"source":"module_resources/state_machine_elements.js","original":{"line":23,"column":11},"generated":{"line":1,"column":832}},{"source":"module_resources/state_machine_elements.js","name":"sm","original":{"line":23,"column":20},"generated":{"line":1,"column":841}},{"source":"module_resources/state_machine_elements.js","original":{"line":25,"column":8},"generated":{"line":1,"column":844}},{"source":"module_resources/state_machine_elements.js","name":"console","original":{"line":24,"column":1},"generated":{"line":1,"column":851}},{"source":"module_resources/state_machine_elements.js","name":"log","original":{"line":24,"column":9},"generated":{"line":1,"column":859}},{"source":"module_resources/state_machine_elements.js","name":"sm","original":{"line":24,"column":13},"generated":{"line":1,"column":863}},{"source":"module_resources/state_machine_elements.js","original":{"line":25,"column":8},"generated":{"line":1,"column":866}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":32,"column":0},"generated":{"line":1,"column":871}},{"source":"module_resources/state_machine_elements.js","name":"sensors","original":{"line":32,"column":4},"generated":{"line":1,"column":873}},{"source":"module_resources/state_machine_elements.js","name":"field_diff","original":{"line":32,"column":12},"generated":{"line":1,"column":881}},{"source":"module_resources/state_machine_elements.js","original":{"line":32,"column":25},"generated":{"line":1,"column":892}},{"source":"module_resources/state_machine_elements.js","name":"field","original":{"line":32,"column":34},"generated":{"line":1,"column":901}},{"source":"module_resources/state_machine_elements.js","original":{"line":33,"column":11},"generated":{"line":1,"column":904}},{"source":"module_resources/state_machine_elements.js","original":{"line":33,"column":11},"generated":{"line":1,"column":911}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":33,"column":20},"generated":{"line":1,"column":920}},{"source":"module_resources/state_machine_elements.js","name":"l","original":{"line":35,"column":5},"generated":{"line":1,"column":923}},{"source":"module_resources/state_machine_elements.js","name":"l","original":{"line":35,"column":5},"generated":{"line":1,"column":927}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":34,"column":1},"generated":{"line":1,"column":930}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":34,"column":5},"generated":{"line":1,"column":932}},{"source":"module_resources/state_machine_elements.js","name":"buffer","original":{"line":34,"column":7},"generated":{"line":1,"column":934}},{"source":"module_resources/state_machine_elements.js","name":"length","original":{"line":35,"column":11},"generated":{"line":1,"column":942}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":36,"column":8},"generated":{"line":1,"column":949}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":36,"column":8},"generated":{"line":1,"column":956}},{"source":"module_resources/state_machine_elements.js","name":"l","original":{"line":36,"column":10},"generated":{"line":1,"column":958}},{"source":"module_resources/state_machine_elements.js","original":{"line":36,"column":12},"generated":{"line":1,"column":960}},{"source":"module_resources/state_machine_elements.js","name":"field","original":{"line":36,"column":15},"generated":{"line":1,"column":963}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":36,"column":24},"generated":{"line":1,"column":966}},{"source":"module_resources/state_machine_elements.js","name":"l","original":{"line":36,"column":26},"generated":{"line":1,"column":968}},{"source":"module_resources/state_machine_elements.js","original":{"line":36,"column":28},"generated":{"line":1,"column":970}},{"source":"module_resources/state_machine_elements.js","name":"field","original":{"line":36,"column":31},"generated":{"line":1,"column":973}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":42,"column":0},"generated":{"line":1,"column":978}},{"source":"module_resources/state_machine_elements.js","name":"is_dev_b","original":{"line":42,"column":4},"generated":{"line":1,"column":980}},{"source":"module_resources/state_machine_elements.js","original":{"line":42,"column":15},"generated":{"line":1,"column":989}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":42,"column":25},"generated":{"line":1,"column":998}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":43,"column":11},"generated":{"line":1,"column":1001}},{"source":"module_resources/state_machine_elements.js","original":{"line":43,"column":20},"generated":{"line":1,"column":1007}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":43,"column":11},"generated":{"line":1,"column":1012}},{"source":"module_resources/state_machine_elements.js","name":"dev","original":{"line":43,"column":13},"generated":{"line":1,"column":1014}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":46,"column":0},"generated":{"line":1,"column":1019}},{"source":"module_resources/state_machine_elements.js","name":"is_dev_a","original":{"line":46,"column":4},"generated":{"line":1,"column":1021}},{"source":"module_resources/state_machine_elements.js","original":{"line":46,"column":15},"generated":{"line":1,"column":1030}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":46,"column":25},"generated":{"line":1,"column":1039}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":47,"column":11},"generated":{"line":1,"column":1042}},{"source":"module_resources/state_machine_elements.js","original":{"line":47,"column":20},"generated":{"line":1,"column":1048}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":47,"column":11},"generated":{"line":1,"column":1053}},{"source":"module_resources/state_machine_elements.js","name":"dev","original":{"line":47,"column":13},"generated":{"line":1,"column":1055}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":50,"column":0},"generated":{"line":1,"column":1060}},{"source":"module_resources/state_machine_elements.js","name":"sensors","original":{"line":50,"column":4},"generated":{"line":1,"column":1062}},{"source":"module_resources/state_machine_elements.js","name":"dev_b","original":{"line":50,"column":12},"generated":{"line":1,"column":1070}},{"source":"module_resources/state_machine_elements.js","name":"field","original":{"line":50,"column":18},"generated":{"line":1,"column":1076}},{"source":"module_resources/state_machine_elements.js","original":{"line":50,"column":26},"generated":{"line":1,"column":1082}},{"source":"module_resources/state_machine_elements.js","name":"field","original":{"line":50,"column":35},"generated":{"line":1,"column":1091}},{"source":"module_resources/state_machine_elements.js","original":{"line":52,"column":11},"generated":{"line":1,"column":1094}},{"source":"module_resources/state_machine_elements.js","original":{"line":52,"column":11},"generated":{"line":1,"column":1101}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":52,"column":20},"generated":{"line":1,"column":1110}},{"source":"module_resources/state_machine_elements.js","name":"buf","original":{"line":53,"column":5},"generated":{"line":1,"column":1113}},{"source":"module_resources/state_machine_elements.js","name":"buf","original":{"line":53,"column":5},"generated":{"line":1,"column":1117}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":53,"column":11},"generated":{"line":1,"column":1119}},{"source":"module_resources/state_machine_elements.js","name":"buffer","original":{"line":53,"column":13},"generated":{"line":1,"column":1121}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":55,"column":5},"generated":{"line":1,"column":1128}},{"source":"module_resources/state_machine_elements.js","original":{"line":55,"column":14},"generated":{"line":1,"column":1134}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":54,"column":5},"generated":{"line":1,"column":1140}},{"source":"module_resources/state_machine_elements.js","name":"util","original":{"line":54,"column":9},"generated":{"line":1,"column":1142}},{"source":"module_resources/state_machine_elements.js","name":"last","original":{"line":54,"column":14},"generated":{"line":1,"column":1144}},{"source":"module_resources/state_machine_elements.js","name":"buf","original":{"line":54,"column":19},"generated":{"line":1,"column":1149}},{"source":"module_resources/state_machine_elements.js","name":"dev","original":{"line":55,"column":7},"generated":{"line":1,"column":1153}},{"source":"module_resources/state_machine_elements.js","name":"d","original":{"line":56,"column":12},"generated":{"line":1,"column":1157}},{"source":"module_resources/state_machine_elements.js","name":"field","original":{"line":56,"column":14},"generated":{"line":1,"column":1159}},{"source":"module_resources/state_machine_elements.js","name":"util","original":{"line":58,"column":5},"generated":{"line":1,"column":1163}},{"source":"module_resources/state_machine_elements.js","name":"debug","original":{"line":58,"column":10},"generated":{"line":1,"column":1165}},{"source":"module_resources/state_machine_elements.js","original":{"line":58,"column":16},"generated":{"line":1,"column":1171}},{"source":"module_resources/state_machine_elements.js","original":{"line":59,"column":12},"generated":{"line":1,"column":1187}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":63,"column":0},"generated":{"line":1,"column":1192}},{"source":"module_resources/state_machine_elements.js","name":"transitioners","original":{"line":63,"column":4},"generated":{"line":1,"column":1194}},{"source":"module_resources/state_machine_elements.js","name":"test_turn_on","original":{"line":63,"column":18},"generated":{"line":1,"column":1208}},{"source":"module_resources/state_machine_elements.js","original":{"line":63,"column":34},"generated":{"line":1,"column":1221}},{"source":"module_resources/state_machine_elements.js","original":{"line":64,"column":17},"generated":{"line":1,"column":1222}},{"source":"module_resources/state_machine_elements.js","original":{"line":64,"column":17},"generated":{"line":1,"column":1231}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":64,"column":26},"generated":{"line":1,"column":1240}},{"source":"module_resources/state_machine_elements.js","original":{"line":65,"column":8},"generated":{"line":1,"column":1243}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":65,"column":9},"generated":{"line":1,"column":1250}},{"source":"module_resources/state_machine_elements.js","name":"STATE","original":{"line":65,"column":23},"generated":{"line":1,"column":1252}},{"source":"module_resources/state_machine_elements.js","name":"is_on","original":{"line":65,"column":29},"generated":{"line":1,"column":1258}},{"source":"module_resources/state_machine_elements.js","original":{"line":68,"column":19},"generated":{"line":1,"column":1265}},{"source":"module_resources/state_machine_elements.js","original":{"line":68,"column":19},"generated":{"line":1,"column":1276}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":68,"column":28},"generated":{"line":1,"column":1285}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":69,"column":1},"generated":{"line":1,"column":1288}},{"source":"module_resources/state_machine_elements.js","name":"STATE","original":{"line":69,"column":15},"generated":{"line":1,"column":1290}},{"source":"module_resources/state_machine_elements.js","name":"is_on","original":{"line":69,"column":21},"generated":{"line":1,"column":1296}},{"source":"module_resources/state_machine_elements.js","original":{"line":69,"column":29},"generated":{"line":1,"column":1303}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":70,"column":5},"generated":{"line":1,"column":1305}},{"source":"module_resources/state_machine_elements.js","name":"debug_mode","original":{"line":70,"column":19},"generated":{"line":1,"column":1307}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":70,"column":41},"generated":{"line":1,"column":1319}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":70,"column":41},"generated":{"line":1,"column":1321}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":70,"column":41},"generated":{"line":1,"column":1328}},{"source":"module_resources/state_machine_elements.js","original":{"line":70,"column":45},"generated":{"line":1,"column":1332}},{"source":"module_resources/state_machine_elements.js","original":{"line":72,"column":14},"generated":{"line":1,"column":1346}},{"source":"module_resources/state_machine_elements.js","original":{"line":72,"column":14},"generated":{"line":1,"column":1352}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":76,"column":0},"generated":{"line":1,"column":1362}},{"source":"module_resources/state_machine_elements.js","name":"transitioners","original":{"line":76,"column":4},"generated":{"line":1,"column":1364}},{"source":"module_resources/state_machine_elements.js","name":"test_turn_off","original":{"line":76,"column":18},"generated":{"line":1,"column":1378}},{"source":"module_resources/state_machine_elements.js","original":{"line":76,"column":35},"generated":{"line":1,"column":1392}},{"source":"module_resources/state_machine_elements.js","original":{"line":77,"column":17},"generated":{"line":1,"column":1393}},{"source":"module_resources/state_machine_elements.js","original":{"line":77,"column":17},"generated":{"line":1,"column":1402}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":77,"column":26},"generated":{"line":1,"column":1411}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":78,"column":8},"generated":{"line":1,"column":1414}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":78,"column":8},"generated":{"line":1,"column":1421}},{"source":"module_resources/state_machine_elements.js","name":"STATE","original":{"line":78,"column":22},"generated":{"line":1,"column":1423}},{"source":"module_resources/state_machine_elements.js","name":"is_on","original":{"line":78,"column":28},"generated":{"line":1,"column":1429}},{"source":"module_resources/state_machine_elements.js","original":{"line":80,"column":19},"generated":{"line":1,"column":1436}},{"source":"module_resources/state_machine_elements.js","original":{"line":80,"column":19},"generated":{"line":1,"column":1447}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":80,"column":28},"generated":{"line":1,"column":1456}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":81,"column":1},"generated":{"line":1,"column":1459}},{"source":"module_resources/state_machine_elements.js","name":"STATE","original":{"line":81,"column":15},"generated":{"line":1,"column":1461}},{"source":"module_resources/state_machine_elements.js","name":"is_on","original":{"line":81,"column":21},"generated":{"line":1,"column":1467}},{"source":"module_resources/state_machine_elements.js","original":{"line":81,"column":29},"generated":{"line":1,"column":1474}},{"source":"module_resources/state_machine_elements.js","name":"state_machine","original":{"line":82,"column":5},"generated":{"line":1,"column":1476}},{"source":"module_resources/state_machine_elements.js","name":"debug_mode","original":{"line":82,"column":19},"generated":{"line":1,"column":1478}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":82,"column":41},"generated":{"line":1,"column":1490}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":82,"column":41},"generated":{"line":1,"column":1492}},{"source":"module_resources/state_machine_elements.js","name":"sme","original":{"line":82,"column":41},"generated":{"line":1,"column":1499}},{"source":"module_resources/state_machine_elements.js","original":{"line":82,"column":45},"generated":{"line":1,"column":1503}},{"source":"module_resources/state_machine_elements.js","original":{"line":84,"column":14},"generated":{"line":1,"column":1518}},{"source":"module_resources/state_machine_elements.js","original":{"line":84,"column":14},"generated":{"line":1,"column":1524}}],"sources":{"module_resources/state_machine_elements.js":"//Fri Oct  5 19:31:23 PDT 2018\n\n// filefor collecting definitions of Sensors and transitioners\n\nimport {logger} from \"../core_modules/logger.js\"\nimport * as util    from \"./utils.js\"\n\nlogger.register(\"sme\") \n\nvar sme = { sensors : { dev_a : {} , dev_b : {} } , \n\t    transitioners : {} }  \n\n\n//extract a specific field from the data objects \n//i.e. [{:acc_x :acc_y... } , ... ] => [ acc_x, acc_x ... ] \nsme.sensors.field = function(field) { \n    return function(sm) { \n\treturn util.last(sm.buffer)[field] \n    }\n} \n\nsme.sensors.foo = function(x) { \n    return function(sm) { \n\tconsole.log(sm)\n\treturn 20 \n    }\n    \n}\n\n\n//field diff will take the  diff of a particular field in the data object \nsme.sensors.field_diff = function(field) { \n    return function(d) { \n\td = d.buffer \n\tvar l = d.length \n\treturn d[l-1][field] - d[l-2][field]\n    }\n} \n\n\n\nsme.is_dev_b = function (d) { \n    return d.dev == \"B\" \n} \n\nsme.is_dev_a = function (d) { \n    return d.dev == \"A\" \n} \n\nsme.sensors.dev_b.field = function(field) { \n    //return sme.generic_filter(sme.is_dev_b , d=>d[field] ) \n    return function(d) {\n\tvar buf = d.buffer \n\tvar d = util.last(buf) \n\tif (d.dev == \"B\") { \n\t    return d[field]\n\t} else { \n\t    util.debug(\"filter miss\")\n\t    return false }\n    }\n}\n\nsme.transitioners.test_turn_on  = { \n    \"detector\" : function(state_machine) { \n\treturn !state_machine.STATE.is_on \n\t\n    } , \n    \"applicator\" : function(state_machine) { \n\tstate_machine.STATE.is_on = true \n\tif (state_machine.debug_mode ) { logger.sme(\"TURNED ON\") }\n    },\n    \"group\" : \"switch\" \n}\n\n\nsme.transitioners.test_turn_off  = { \n    \"detector\" : function(state_machine) { \n\treturn state_machine.STATE.is_on \n    } , \n    \"applicator\" : function(state_machine) { \n\tstate_machine.STATE.is_on = false  \n\tif (state_machine.debug_mode ) { logger.sme(\"TURNED OFF\") }\n    } , \n    \"group\" : \"switch\" \n}\n\n\n\n\nexport { sme } \n"},"lineCount":null}},"error":null,"hash":"8134eecc80ad4bf52ed910a642676714","cacheData":{"env":{}}}